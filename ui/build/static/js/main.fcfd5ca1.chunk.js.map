{"version":3,"sources":["serviceWorker.js","redux/ui.js","components/Modal.js","redux/authors.js","redux/categories.js","redux/tags.js","redux/quotes.js","redux/filters.js","components/Search.js","components/CurrentUser.js","components/MobileMenu.js","components/TopBar.js","components/FilterDelete.js","components/RemoveFilterButton.js","components/FilterItem.js","redux/routing.js","components/FilterForm.js","components/NewFilterButton.js","components/Filter.js","components/QuotesSidebar.js","components/QuoteForm.js","components/QuoteDelete.js","components/Quote.js","components/Spinner.js","components/QuotesOverlay.js","components/Offline.js","components/QuotesList.js","components/NewQuoteButton.js","screens/Quotes.js","screens/Login.js","screens/Signup.js","screens/InactiveAccount.js","redux/user.js","screens/Settings.js","routing.js","components/RouterManager.js","components/Router.js","redux/app.js","App.js","redux/auth.js","redux/api.js","redux/store.js","index.js"],"names":["Boolean","window","location","hostname","match","initialState","modal","showModal","type","payload","connect","_ref","title","content","dispatch","react_default","a","createElement","es_Modal","show","onHide","Header","closeButton","Title","data","getAuthors","request","url","params","arguments","length","undefined","method","performRemoveAuthorRequest","author","state","concat","id","token","user","headers","client","delete","getCategories","performRemoveCategoryRequest","quote","getTags","performRemoveTagRequest","handleQuoteSaveSuccess","saga","errors","count","page","hasMore","routing","regenerator_default","wrap","_context","prev","next","put","select","sent","user__username","has","username","stop","_marked","_context2","takeEvery","_marked2","getQuotes","performRemoveQuoteRequest","handleFilterChange","FILTER_CHANGED","SEARCH_CHANGED","categories","Set","authors","tags","search","snapshot","filters","category","toArray","filters_marked","filters_marked2","updateFilter","tag","removeFilter","getState","then","response","Object","objectSpread","removeCategory","_useState","useState","_useState2","slicedToArray","searchText","setSearchTest","className","placeholder","onChange","event","target","value","onKeyPress","key","onClick","index_esm","width","height","isAuthenticated","currentUser","withRouter","history","style","padding","marginRight","email","DropdownButton","MenuItem","push","eventKey","logout","toggled","Collapse","in","timeout","role","components_Search","react_router_dom","to","href","preventDefault","TopBar","mobileMenuToggled","setMobileMenuToggled","components_MobileMenu","components_CurrentUser","filter","Fragment","Body","name","Footer","Button","bsStyle","item","components_FilterDelete","getDeleteFilterModal","verticalAlign","marginLeft","color","FilterItem","_React$Component","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onEditFinished","setState","editMode","checked","inherits","createClass","_this2","_this$props","onDoubleClick","ref","input","focus","onBlur","components_RemoveFilterButton","nextValue","htmlFor","React","Component","UPDATE_ROUTE","RoutingParamsContext","createContext","quotes","setValue","onSubmit","display","paddingRight","defaultValue","join","source","createFilter","cursor","upperFirst","components_FilterForm","getAddFilterModal","reducersMapping","Filter","context","collapsed","panelBodyMaxHeight","innerHeight","action","panelClass","components_NewFilterButton","maxHeight","map","components_FilterItem","field","changeFilter","contextType","defaultProps","values","Sidebar","components_Filter","defaultValues","omit","inputs","setInputs","updateQuote","createQuote","maxLength","defineProperty","private","dist_react_select_browser_esm","cacheOptions","isClearable","author_name","label","defaultOptions","loadOptions","inputValue","Promise","resolve","get","result","paddingLeft","react_select_browser_esm","category_name","options","reference","isMulti","tags_name","ckeditor_default","text","config","toolbar","editor","getData","removeQuote","user_id","components_QuoteForm","getEditQuoteModal","components_QuoteDelete","getDeleteQuiteModal","dangerouslySetInnerHTML","__html","Spinner","viewBox","xmlns","fill","strokeWidth","strokeLinecap","cx","cy","r","isLoading","position","zIndex","backgroundColor","opacity","components_Spinner","Alert","reload","QuotesList","components_QuotesOverlay","components_Quote","isOnline","components_Offline","textAlign","marginBottom","float","minWidth","maxWidth","loadData","orderBy","api","size","components_TopBar","Provider","components_NewQuoteButton","QuotesSidebar","components_QuotesList","password","auth","non_field_errors","error","idx","autoFocus","required","e","login","password1","password2","signup","UPDATE_USER_SUCCESS","console","log","minHeight","first_name","last_name","Route","path","component","isPublic","ROUTES","Quotes","Login","Signup","InactiveAccount","Settings","route","useEffect","react_router","Router","exact","render","components_RouterManager","handleAppInitialization","INITIALIZE","INITIALIZED","app_marked","app_marked2","createBrowserHistory","App","replace","components_Router","components_Modal","ui","handleLoginSuccess","handleUserUnauthenticated","redirectToLogin","handleLogout","handleSignupSuccess","setHeaders","Authorization","auth_marked","auth_marked2","_context3","_marked3","_context4","_marked4","_context5","_marked5","_context6","_marked6","handleReload","handleRequest","pendingRequests","REQUEST_STARTED","REQUEST_FINISHED","API_IS_OFFLINE","RELOAD","SUCCESS_SUFFIX","ERROR_SUFFIX","axios","create","baseURL","process","responseType","paramsSerializer","qs","arrayFormat","skipNulls","forEach","defaults","common","api_marked","userToken","t0","status","api_marked2","interceptors","use","store","reject","API_ACTIONS","api_marked3","rootSaga","all","authSaga","quotesSaga","apiSaga","filtersSaga","appSaga","store_marked","persistConfig","storage","whitelist","rootReducer","combineReducers","currentPendingRequests","resultByKey","keyBy","results","isFirstPage","has_more","newState","newSet","add","app","persistedRootReducer","persistReducer","__webpack_require__","d","__webpack_exports__","src_store","sagaMiddleware","createSagaMiddleware","createReduxStore","applyMiddleware","thunk","run","subscribe","createRootStore","persistor","persistStore","ReactDOM","react_redux_es","integration_react","loading","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.fcfd5ca1.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const initialState = {\n    modal: null\n}\n\n\nexport function reducer(state = initialState, action = {}) {\n    switch (action.type) {\n        case 'SHOW_MODAL':\n            return {\n                ...state,\n                modal: action.payload\n            }\n        case 'HIDE_MODAL':\n            return {\n                ...state,\n                modal: null\n            }\n        default:\n            return state\n    }\n}\n\nexport function showModal(modal) {\n    return {\n        type: 'SHOW_MODAL',\n        payload: modal\n    }\n}\n\nexport function hideModal() {\n    return {\n        type: 'HIDE_MODAL'\n    }\n}\n","import React from 'react'\nimport { Modal as BootstrapModal } from 'react-bootstrap'\nimport { connect } from 'react-redux'\nimport { hideModal } from '../redux/ui'\n\n\nconst Modal = ({title, content, dispatch}) => {\n    return (\n        <BootstrapModal show={true} onHide={() => dispatch(hideModal())}>\n            <BootstrapModal.Header closeButton>\n                <BootstrapModal.Title>{title}</BootstrapModal.Title>\n            </BootstrapModal.Header>\n            {content}\n        </BootstrapModal>\n    )\n}\n\nexport default connect()(Modal)\n","import { keyBy, omit } from 'lodash'\nimport { hideModal } from \"./ui\";\nimport { client } from \"./api\";\n\nconst initialState = {\n    data: []\n}\n\nexport function reducer(state = initialState, action = {}) {\n    switch (action.type) {\n        case 'GET_AUTHORS_SUCCESS':\n            let response = action.payload.data\n\n            return {\n                data: keyBy(response, 'id')\n            }\n        case 'CREATE_AUTHOR_SUCCESS':\n        case 'GET_AUTHOR_SUCCESS':\n            return {\n                data: {\n                    ...state.data,\n                    [action.payload.data.id]: action.payload.data\n                }\n            }\n        case 'DELETE_AUTHOR_SUCCESS':\n            const author = action.payload.data\n\n            return {\n                ...state,\n                errors: {},\n                data: omit(state.data, author.id)\n            }\n        default:\n            return state\n    }\n}\n\n\nexport const getAuthors = (params = {}) => {\n    const url = '/authors/'\n\n    return (\n        {\n            type: 'GET_AUTHORS',\n            payload: {\n                request: {\n                    url,\n                    params,\n                    method: 'GET'\n                }\n            }\n        }\n    )\n}\n\nexport const createAuthor = (author) => {\n    const url = '/authors/'\n\n    return (\n        {\n            type: 'CREATE_AUTHOR',\n            payload: {\n                request: {\n                    url: url,\n                    method: 'POST',\n                    data: author\n                }\n            }\n        }\n    )\n}\n\nexport const updateAuthor = (author) => {\n    const url = `/authors/${author.id}/`\n\n    return (\n        {\n            type: 'UPDATE_AUTHOR',\n            payload: {\n                request: {\n                    url: url,\n                    method: 'PATCH',\n                    data: author\n                }\n            }\n        }\n    )\n}\n\nexport const removeAuthor = (author) => {\n    return function (dispatch, getState) {\n        const state = getState()\n\n        return performRemoveAuthorRequest(author, state).then(\n            (response) => {\n                dispatch({type: 'DELETE_AUTHOR_SUCCESS', payload: {data: {...author}}})\n                dispatch(hideModal())\n            }\n        )\n    }\n}\n\nexport const performRemoveAuthorRequest = (author, state) => {\n    const url = `/authors/${author.id}/`\n    const token = state.user.token\n    let headers = {}\n\n    if (token) {\n        headers['Authorization'] = `JWT ${token}`\n    }\n\n    return client.delete(url, {headers})\n}\n","import { keyBy, omit } from 'lodash'\nimport { hideModal } from \"./ui\";\nimport { client } from \"./api\";\n\nconst initialState = {\n    data: []\n}\n\nexport function reducer(state = initialState, action = {}) {\n    switch (action.type) {\n        case 'GET_CATEGORIES_SUCCESS':\n            let response = action.payload.data\n\n            return {\n                data: keyBy(response, 'id')\n            }\n        case 'CREATE_CATEGORY_SUCCESS':\n        case 'GET_CATEGORY_SUCCESS':\n            return {\n                data: {\n                    ...state.data,\n                    [action.payload.data.id]: action.payload.data\n                }\n            }\n        case 'DELETE_CATEGORY_SUCCESS':\n            const category = action.payload.data\n\n            return {\n                ...state,\n                errors: {},\n                data: omit(state.data, category.id)\n            }\n        default:\n            return state\n    }\n}\n\n\nexport const getCategories = (params = {}) => {\n    const url = '/categories/'\n\n    return (\n        {\n            type: 'GET_CATEGORIES',\n            payload: {\n                request: {\n                    url,\n                    params,\n                    method: 'GET'\n                }\n            }\n        }\n    )\n}\n\nexport const getCategory = (id) => {\n    const url = `/categories/${id}`\n\n    return (\n        {\n            type: 'GET_CATEGORY',\n            payload: {\n                request: {\n                    url: url,\n                    method: 'GET'\n                }\n            }\n        }\n    )\n}\n\nexport const createCategory = (category) => {\n    const url = '/categories/'\n\n    return (\n        {\n            type: 'CREATE_CATEGORY',\n            payload: {\n                request: {\n                    url: url,\n                    method: 'POST',\n                    data: category\n                }\n            }\n        }\n    )\n}\n\nexport const updateCategory = (category) => {\n    const url = `/categories/${category.id}/`\n\n    return (\n        {\n            type: 'UPDATE_CATEGORY',\n            payload: {\n                request: {\n                    url: url,\n                    method: 'PATCH',\n                    data: category\n                }\n            }\n        }\n    )\n}\n\nexport const removeCategory = (author) => {\n    return function (dispatch, getState) {\n        const state = getState()\n\n        return performRemoveCategoryRequest(author, state).then(\n            (response) => {\n                dispatch({type: 'DELETE_CATEGORY_SUCCESS', payload: {data: {...author}}})\n                dispatch(hideModal())\n            }\n        )\n    }\n}\n\nexport const performRemoveCategoryRequest = (quote, state) => {\n    const url = `/categories/${quote.id}/`\n    const token = state.user.token\n    let headers = {}\n\n    if (token) {\n        headers['Authorization'] = `JWT ${token}`\n    }\n\n    return client.delete(url, {headers})\n}\n","import { keyBy, omit } from 'lodash'\nimport { hideModal } from \"./ui\";\nimport { client } from \"./api\";\n\nconst initialState = {\n    data: []\n}\n\nexport function reducer(state = initialState, action = {}) {\n    switch (action.type) {\n        case 'GET_TAGS_SUCCESS':\n            let response = action.payload.data\n\n            return {\n                data: keyBy(response, 'id')\n            }\n        case 'CREATE_TAG_SUCCESS':\n        case 'GET_TAG_SUCCESS':\n            return {\n                data: {\n                    ...state.data,\n                    [action.payload.data.id]: action.payload.data\n                }\n            }\n        case 'DELETE_TAG_SUCCESS':\n            const tag = action.payload.data\n\n            return {\n                ...state,\n                errors: {},\n                data: omit(state.data, tag.id)\n            }\n        default:\n            return state\n    }\n}\n\n\nexport const getTags = (params = {}) => {\n    const url = '/tags/'\n\n    return (\n        {\n            type: 'GET_TAGS',\n            payload: {\n                request: {\n                    url,\n                    params,\n                    method: 'GET'\n                }\n            }\n        }\n    )\n}\n\nexport const createTag = (tag) => {\n    const url = '/tags/'\n\n    return (\n        {\n            type: 'CREATE_TAG',\n            payload: {\n                request: {\n                    url: url,\n                    method: 'POST',\n                    data: tag\n                }\n            }\n        }\n    )\n}\n\nexport const updateTag = (tag) => {\n    const url = `/tags/${tag.id}/`\n\n    return (\n        {\n            type: 'UPDATE_TAG',\n            payload: {\n                request: {\n                    url: url,\n                    method: 'PATCH',\n                    data: tag\n                }\n            }\n        }\n    )\n}\n\nexport const removeTag = (tag) => {\n    return function (dispatch, getState) {\n        const state = getState()\n\n        return performRemoveTagRequest(tag, state).then(\n            (response) => {\n                dispatch({type: 'DELETE_TAG_SUCCESS', payload: {data: {...tag}}})\n                dispatch(hideModal())\n            }\n        )\n    }\n}\n\nexport const performRemoveTagRequest = (quote, state) => {\n    const url = `/tags/${quote.id}/`\n    const token = state.user.token\n    let headers = {}\n\n    if (token) {\n        headers['Authorization'] = `JWT ${token}`\n    }\n\n    return client.delete(url, {headers})\n}\n\n","import { has, keyBy, omit } from 'lodash'\nimport { takeEvery, put, select } from 'redux-saga/effects'\nimport { hideModal } from './ui'\nimport { client } from './api'\nimport { getAuthors } from \"./authors\";\nimport { getCategories } from \"./categories\";\nimport { getTags } from \"./tags\";\n\nconst initialState = {\n    data: {},\n    errors: {},\n    count: null,\n    page: null,\n    hasMore: null\n}\n\nfunction isFirstPage(response) {\n    return response.page === 1\n}\n\nexport function reducer(state = initialState, action = {}) {\n    let quote\n\n    switch (action.type) {\n        case 'GET_QUOTES_SUCCESS':\n            let response = action.payload.data\n\n            const resultByKey = keyBy(response.results, 'id');\n            const data = isFirstPage(response) ? resultByKey : {...state.data, ...resultByKey}\n\n            return {\n                ...state,\n                data: data,\n                count: response.count,\n                page: response.page,\n                hasMore: response.has_more\n            }\n        case 'GET_QUOTE_SUCCESS':\n        case 'CREATE_QUOTE_SUCCESS':\n        case 'UPDATE_QUOTE_SUCCESS':\n            quote = action.payload.data\n\n            return {\n                ...state,\n                errors: {},\n                data: {\n                    ...state.data,\n                    [quote.id]: quote\n                }\n            }\n        case 'DELETE_QUOTE_SUCCESS':\n            quote = action.payload.data\n\n            return {\n                ...state,\n                errors: {},\n                data: omit(state.data, quote.id)\n            }\n        case 'CREATE_QUOTE_FAIL':\n        case 'UPDATE_QUOTE_FAIL':\n        case 'DELETE_QUOTE_FAIL':\n            return {\n                ...state,\n                errors: action.payload\n            }\n        default:\n            return state\n    }\n}\n\nfunction* handleQuoteSaveSuccess(payload) {\n    yield put(hideModal())\n\n    const routing = yield select((state) => state.routing)\n\n    const params = {\n        user__username: has(routing.match.params, 'username') ? routing.match.params.username : null\n    }\n\n    yield put(getAuthors(params))\n    yield put(getCategories(params))\n    yield put(getTags(params))\n}\n\nexport function* saga() {\n    yield takeEvery(['UPDATE_QUOTE_SUCCESS', 'CREATE_QUOTE_SUCCESS'], handleQuoteSaveSuccess)\n}\n\n\nexport const getQuotes = (params = {}) => {\n    const url = '/quotes/'\n\n    return (\n        {\n            type: 'GET_QUOTES',\n            payload: {\n                request: {\n                    url: url,\n                    method: 'GET',\n                    params: params\n                }\n            }\n        }\n    )\n}\n\nexport const updateQuote = (quote) => {\n    const url = `/quotes/${quote.id}/`\n\n    return {\n        type: 'UPDATE_QUOTE',\n        payload: {\n            request: {\n                url: url,\n                method: 'PATCH',\n                data: quote\n            }\n        }\n    }\n}\n\nexport const createQuote = (quote) => {\n    const url = `/quotes/`\n\n    return {\n        type: 'CREATE_QUOTE',\n        payload: {\n            request: {\n                url: url,\n                method: 'POST',\n                data: quote\n            }\n        }\n    }\n}\n\nexport const deleteQuote = (quote) => {\n    const url = `/quotes/${quote.id}/`\n\n    return {\n        type: 'DELETE_QUOTE',\n        payload: {\n            request: {\n                url: url,\n                method: 'DELETE'\n            }\n        }\n    }\n}\n\nexport const removeQuote = (quote) => {\n    return function (dispatch, getState) {\n        const state = getState()\n\n        return performRemoveQuoteRequest(quote, state).then(\n            (response) => {\n                dispatch({type: 'DELETE_QUOTE_SUCCESS', payload: {data: {...quote}}})\n                dispatch(hideModal())\n            }\n        )\n    }\n}\n\nexport const performRemoveQuoteRequest = (quote, state) => {\n    const url = `/quotes/${quote.id}/`\n    const token = state.user.token\n    let headers = {}\n\n    if (token) {\n        headers['Authorization'] = `JWT ${token}`\n    }\n\n    return client.delete(url, {headers})\n}\n","import { put, select, takeEvery } from 'redux-saga/effects'\nimport { getQuotes } from './quotes'\nimport { has, toArray } from 'lodash'\nimport { createAuthor, removeAuthor, updateAuthor } from \"./authors\";\nimport { createCategory, removeCategory, updateCategory } from \"./categories\";\nimport { createTag, removeTag, updateTag } from \"./tags\";\n\nconst FILTER_CHANGED = 'FILTER_CHANGED'\nconst SEARCH_CHANGED = 'SEARCH_CHANGED'\n\nconst initialState = {\n    categories: new Set(),\n    authors: new Set(),\n    tags: new Set(),\n    search: null,\n    snapshot: {\n        categories: new Set(),\n        authors: new Set(),\n        tags: new Set(),\n        search: null,\n    }\n}\n\nexport function reducer(state = initialState, action = {}) {\n    switch (action.type) {\n        case FILTER_CHANGED:\n            const id = action.payload.value\n            const field = action.payload.field\n            const checked = action.payload.checked\n            let newState\n\n            if (checked) {\n                const newSet = new Set(state[field])\n                newSet.add(id)\n                newState = newSet\n            } else {\n                const newSet = new Set(state[field])\n                newSet.delete(id)\n                newState = newSet\n            }\n\n            return {\n                ...state,\n                [field]: newState\n            }\n        case SEARCH_CHANGED:\n            return {\n                ...state,\n                search: action.payload.value\n            }\n        case 'SET_FILTERS':\n            return {\n                ...state,\n                ...action.payload\n            }\n        default:\n            return state\n    }\n}\n\nexport function* handleFilterChange() {\n    const filters = yield select((state) => state.filters)\n    const routing = yield select((state) => state.routing)\n\n    const params = {\n        category: toArray(filters.categories),\n        author: toArray(filters.authors),\n        tags: toArray(filters.tags),\n        search: filters.search,\n        user__username: has(routing.match.params, 'username') ? routing.match.params.username : null\n    }\n\n    yield put(getQuotes(params))\n}\n\nexport function* saga() {\n    yield takeEvery(FILTER_CHANGED, handleFilterChange)\n    yield takeEvery(SEARCH_CHANGED, handleFilterChange)\n}\n\nexport const changeFilter = (field, value, checked) => ({\n    type: FILTER_CHANGED,\n    payload: {field, value, checked}\n})\n\n\nexport const changeSearch = (value) => ({\n    type: SEARCH_CHANGED,\n    payload: {value}\n})\n\nexport const createFilter = (type, data) => {\n    switch (type) {\n        case 'authors':\n            return createAuthor(data)\n        case 'categories':\n            return createCategory(data)\n        case 'tags':\n            return createTag(data)\n        default:\n            return null\n    }\n}\n\nexport const updateFilter = (type, data) => {\n    switch (type) {\n        case 'authors':\n            return updateAuthor(data)\n        case 'categories':\n            return updateCategory(data)\n        case 'tags':\n            return updateTag(data)\n        default:\n            return null\n    }\n}\n\nexport const removeFilter = (type, data) => {\n    switch (type) {\n        case 'authors':\n            return removeAuthor(data)\n        case 'categories':\n            return removeCategory(data)\n        case 'tags':\n            return removeTag(data)\n        default:\n            return null\n    }\n}\n","import React, { useState } from 'react'\nimport { FaSearch } from 'react-icons/fa'\nimport { connect } from 'react-redux'\nimport { getQuotes } from '../redux/quotes'\nimport { changeSearch } from '../redux/filters'\n\nconst Search = ({dispatch}) => {\n    const [searchText, setSearchTest] = useState('')\n\n    return (\n        <div className=\"sidebar-search\">\n            <div className=\"input-group custom-search-form\">\n                <input\n                    className=\"form-control\"\n                    placeholder=\"Search...\"\n                    onChange={(event) => setSearchTest(event.target.value)}\n                    onKeyPress={(event) => {\n                        if (event.key === 'Enter') {\n                            dispatch(changeSearch(searchText))\n                        }\n                    }}\n                    value={searchText}\n                />\n                <span className=\"input-group-btn\">\n                    <button\n                        className=\"btn btn-default\"\n                        onClick={() => {\n                            dispatch(getQuotes({search: searchText}))\n                        }}\n                    >\n                        <FaSearch width=\"13\" height=\"50\"/>\n                    </button>\n                </span>\n            </div>\n        </div>\n    )\n}\n\n\nexport default connect()(Search)\n","import React from 'react'\nimport { DropdownButton, MenuItem } from 'react-bootstrap'\nimport { FaUser } from 'react-icons/fa'\nimport { connect } from 'react-redux'\nimport { logout } from '../redux/auth'\nimport { withRouter } from 'react-router-dom'\nimport { push } from \"../App\";\n\n\nconst CurrentUser = ({currentUser, isAuthenticated, history, dispatch}) => {\n    if (!isAuthenticated) {\n        return null\n    }\n\n    return (\n        <ul className=\"nav navbar-top-links navbar-right\" style={{padding: '9px'}}>\n            <li style={{marginRight: '10px'}}>\n                {currentUser.email}\n            </li>\n            <li className=\"dropdown\">\n                <DropdownButton title={<FaUser/>} id='add-version-dropdown'>\n                    <MenuItem onClick={() => push('settings')} eventKey=\"2\">\n                        Settings\n                    </MenuItem>\n                    <MenuItem\n                        onClick={() => {\n                            dispatch(logout())\n                        }}\n                        eventKey=\"3\"\n                    >\n                        Logout\n                    </MenuItem>\n                </DropdownButton>\n            </li>\n        </ul>\n    )\n}\n\n\nfunction mapStateToProps(state) {\n    return {\n        isAuthenticated: state.user.isAuthenticated,\n        currentUser: state.user.user\n    }\n}\n\nexport default connect(mapStateToProps)(withRouter(CurrentUser))\n","import React from 'react'\nimport { logout } from \"../redux/auth\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { Collapse } from \"react-bootstrap\";\nimport { FaHome, FaTools, FaSignOutAlt } from \"react-icons/fa\";\nimport Search from \"./Search\";\n\nconst MobileMenu = ({toggled, dispatch}) => {\n    return (\n        <Collapse\n            in={toggled}\n            timeout={300}\n        >\n            <div className=\"navbar-default sidebar\" role=\"navigation\">\n                <div className=\"sidebar-nav navbar-collapse\">\n                    <ul className=\"nav\" id=\"side-menu\">\n                        <Search/>\n                        <li>\n                            <Link to='/'>\n                                <FaHome/> Quotes\n                            </Link>\n                        </li>\n                        <li>\n                            <Link to='/settings'>\n                                <FaTools/> Settings\n                            </Link>\n                        </li>\n\n                        <li>\n                            <a href='' onClick={(event) => {\n                                event.preventDefault()\n                                dispatch(logout())\n                            }}>\n                                <FaSignOutAlt/> Logout\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </Collapse>\n    )\n}\n\nexport default connect()(MobileMenu)\n","import React, { useState } from 'react'\nimport Search from './Search'\nimport CurrentUser from './CurrentUser'\nimport { Link } from \"react-router-dom\";\nimport MobileMenu from \"./MobileMenu\";\n\n\nconst TopBar = () => {\n    const [mobileMenuToggled, setMobileMenuToggled] = useState(false)\n\n    return (\n        <div>\n            <div className=\"navbar-header\">\n                <button\n                    type=\"button\"\n                    className=\"navbar-toggle\"\n                    onClick={() => setMobileMenuToggled(!mobileMenuToggled)}\n                >\n                    <span className=\"sr-only\">Toggle navigation</span>\n                    <span className=\"icon-bar\"></span>\n                    <span className=\"icon-bar\"></span>\n                    <span className=\"icon-bar\"></span>\n                </button>\n                <Link className=\"navbar-brand\" to=\"/\">MyQuotes</Link>\n                <Search/>\n            </div>\n            <MobileMenu toggled={mobileMenuToggled}/>\n\n            <CurrentUser/>\n        </div>\n    )\n}\n\n\nexport default TopBar\n","import React from 'react'\nimport { Button, Modal as BootstrapModal } from 'react-bootstrap'\nimport { hideModal } from '../redux/ui'\nimport { connect } from 'react-redux'\nimport { removeFilter } from \"../redux/filters\";\n\nconst FilterDelete = ({type, filter, dispatch}) => {\n    return (\n        <>\n            <BootstrapModal.Body>\n                \"<b>{filter.name}</b>\" will be deleted.\n            </BootstrapModal.Body>\n            <BootstrapModal.Footer>\n                <Button bsStyle=\"danger\" onClick={() => dispatch(removeFilter(type, filter))}>\n                    Delete\n                </Button>\n                <Button onClick={() => dispatch(hideModal())}>Close</Button>\n            </BootstrapModal.Footer>\n        </>\n    )\n}\n\nexport default connect()(FilterDelete)\n","import React from 'react'\nimport { showModal } from \"../redux/ui\";\nimport { connect } from \"react-redux\";\nimport { FaTrashAlt } from \"react-icons/fa\";\nimport FilterDelete from \"./FilterDelete\";\n\nconst getDeleteFilterModal = (type, filter) => {\n    return {\n        title: 'Are you sure?',\n        content: <FilterDelete type={type} filter={filter}/>\n    }\n}\n\nconst RemoveFilterButton = ({dispatch, type, item, isAuthenticated}) => {\n    if (!isAuthenticated) {\n        return null\n    }\n\n    return (\n        <span\n            className='remove-filter-button visible-on-hover'\n            onClick={(event) => dispatch(showModal(getDeleteFilterModal(type, item)))}\n            style={{verticalAlign: 'middle', marginLeft: '5px'}}\n        >\n            <FaTrashAlt color='red'/>\n        </span>\n    )\n}\n\nfunction mapStateToProps(state) {\n    return {\n        isAuthenticated: state.user.isAuthenticated\n    }\n}\n\nexport default connect(mapStateToProps)(RemoveFilterButton)\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { updateFilter } from \"../redux/filters\";\nimport RemoveFilterButton from \"./RemoveFilterButton\";\n\nexport class FilterItem extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            editMode: false,\n            value: props.item.name,\n            checked: false\n        }\n    }\n\n    onEditFinished = () => {\n        this.props.dispatch(updateFilter(this.props.type, {...this.props.item, name: this.state.value}))\n        this.setState({editMode: false})\n    }\n\n    render() {\n        const {type, item} = this.props\n\n        return (\n            <span className=\"list-group-item\">\n                <span className=\"text\" onDoubleClick={() => this.setState({editMode: true})}>\n                    {!this.state.editMode && <span>{this.state.value}</span>}\n                </span>\n                {\n                    this.state.editMode &&\n                    <input\n                        className=\"form-control sm-form-control\"\n                        value={this.state.value}\n                        onChange={(event) => this.setState({value: event.target.value})}\n                        ref={input => input && input.focus()}\n                        onBlur={this.onEditFinished}\n                        onKeyPress={(event) => {\n                            if (event.key === 'Enter') {\n                                this.onEditFinished()\n                            }\n                        }}\n                    />\n                }\n\n                <RemoveFilterButton type={type} item={item}/>\n\n                <div className=\"material-switch pull-right\">\n                    <input\n                        id={`filter-switch-${this.props.type}-${this.props.item.id}`}\n                        type=\"checkbox\"\n                        value={this.state.checked}\n                        onClick={(event) => {\n                            const nextValue = !this.state.checked\n                            this.setState({checked: nextValue})\n                            this.props.onChange(nextValue)\n                        }}\n                    />\n\n                    <label\n                        htmlFor={`filter-switch-${this.props.type}-${this.props.item.id}`}\n                        className=\"label-success switch-label\"\n                    >\n                    </label>\n                </div>\n            </span>\n        )\n    }\n}\n\nexport default connect()(FilterItem)\n","import React from \"react\";\n\nconst UPDATE_ROUTE = 'UPDATE_ROUTE'\n\n\nconst initialState = {}\n\n\nexport function reducer(state = initialState, action = {}) {\n    switch (action.type) {\n        case UPDATE_ROUTE:\n            return {\n                ...state,\n                ...action.payload\n            }\n\n        default:\n            return state\n    }\n}\n\nexport function updateRoute(route) {\n    return {\n        type: UPDATE_ROUTE,\n        payload: route\n    }\n}\n\nexport const RoutingParamsContext = React.createContext({});\n","import React, { useState } from 'react'\nimport { Button, Modal as BootstrapModal } from 'react-bootstrap'\nimport { has, join } from 'lodash'\nimport { hideModal } from '../redux/ui'\nimport { connect } from 'react-redux'\nimport { createFilter } from \"../redux/filters\";\n\n\nconst FilterForm = ({dispatch, errors, type}) => {\n    const [value, setValue] = useState('')\n\n    return (\n        <>\n            <BootstrapModal.Body>\n                <form id='filter-form' onSubmit={(event => {\n                    event.preventDefault()\n                })}>\n                    <div>\n                        <div id=\"source\" className=\"form-group\"\n                             style={{display: 'inline-block', width: '100%', paddingRight: '10px'}}\n                        >\n                            <div className=\"form-inline\">\n                                <label htmlFor=\"id_source\">Title</label>\n                                <input\n                                    style={{width: '80%'}}\n                                    name=\"name\"\n                                    className=\"form-control\"\n                                    id=\"id_name\"\n                                    defaultValue={value}\n                                    onChange={event => setValue(event.target.value)}\n                                />\n\n                            </div>\n                            {\n                                has(errors, 'source') &&\n                                <div id=\"errors\" className=\"text-danger small\">\n                                    {join(errors.source, ' ')}\n                                </div>\n                            }\n                        </div>\n\n                    </div>\n                </form>\n            </BootstrapModal.Body>\n            <BootstrapModal.Footer>\n                <Button\n                    bsStyle=\"success\"\n                    onClick={() => dispatch(createFilter(type, {name: value}))}\n                >\n                    Save\n                </Button>\n                <Button onClick={() => dispatch(hideModal())}>Close</Button>\n            </BootstrapModal.Footer>\n\n        </>\n    )\n}\n\nfunction mapStateToProps(state) {\n    return {\n        errors: state.quotes.errors\n    }\n}\n\nexport default connect(mapStateToProps)(FilterForm)\n","import React from 'react'\nimport { connect } from \"react-redux\";\nimport { showModal } from \"../redux/ui\";\nimport { FaPlus } from \"react-icons/fa\";\nimport { upperFirst } from \"lodash\";\nimport FilterForm from \"./FilterForm\";\n\nconst getAddFilterModal = (type) => {\n    return {\n        title: upperFirst(type),\n        content: <FilterForm type={type}/>\n    }\n}\n\nconst NewFilterButton = ({type, isAuthenticated, dispatch}) => {\n    if (!isAuthenticated) {\n        return null\n    }\n\n    return (\n        <span\n            style={{cursor: 'pointer'}}\n            className='pull-right'\n            onClick={(event) => dispatch(showModal(getAddFilterModal(type)))}\n        >\n            <FaPlus/>\n        </span>\n    )\n}\n\nfunction mapStateToProps(state) {\n    return {\n        isAuthenticated: state.user.isAuthenticated\n    }\n}\n\nexport default connect(mapStateToProps)(NewFilterButton)\n","import React from 'react'\nimport { Collapse } from 'react-bootstrap'\nimport { has, upperFirst, values } from 'lodash'\nimport { getAuthors } from '../redux/authors'\nimport { getCategories } from '../redux/categories'\nimport { getTags } from '../redux/tags'\nimport { connect } from 'react-redux'\nimport { changeFilter } from '../redux/filters'\nimport FilterItem from \"./FilterItem\";\nimport { RoutingParamsContext } from \"../redux/routing\";\nimport NewFilterButton from \"./NewFilterButton\";\n\n\nconst reducersMapping = {\n    authors: getAuthors,\n    categories: getCategories,\n    tags: getTags\n}\n\n\nclass Filter extends React.Component {\n    static contextType = RoutingParamsContext;\n\n    constructor(props, context) {\n        super(props)\n        this.state = {\n            collapsed: true,\n            username: has(context.params, 'username') ? context.params.username : null\n        }\n        this.panelBodyMaxHeight = (window.innerHeight / 3) - (25 * 3)\n    }\n\n    componentDidMount() {\n        let action = reducersMapping[this.props.type];\n        this.props.dispatch(action({user__username: this.state.username}))\n    }\n\n    render() {\n        return (\n            <div className={'panel ' + this.props.panelClass}>\n                <div className=\"panel-heading\">\n                    <h3 className=\"panel-title\"\n                        onClick={() => this.setState({collapsed: !this.state.collapsed})}>\n                        {upperFirst(this.props.type)}\n                    </h3>\n                    <NewFilterButton type={this.props.type} />\n                </div>\n                <Collapse\n                    in={this.state.collapsed}\n                    timeout={0}\n                    className=\"body-wrapper collapse\"\n                    id=\"categories-filter-body\"\n                >\n                    <div className=\"panel-body\" style={{maxHeight: this.panelBodyMaxHeight}}>\n                        {\n                            this.props[this.props.type].map((item) => (\n                                    <FilterItem\n                                        key={item.id} item={item}\n                                        type={this.props.type}\n                                        onChange={(checked) => {\n                                            this.props.dispatch(changeFilter(this.props.type, item.id, checked))\n                                        }}\n                                    />\n                                )\n                            )\n                        }\n                        {\n                            !this.props[this.props.type].length &&\n                            <span>There are no {this.props.type}...</span>\n                        }\n                    </div>\n                </Collapse>\n            </div>\n        )\n    }\n}\n\n\nFilter.defaultProps = {\n    authors: [],\n    categories: [],\n    tags: [],\n\n    panelClass: 'panel-info'\n}\n\nfunction mapStateToProps(state) {\n    return {\n        authors: values(state.authors.data),\n        categories: values(state.categories.data),\n        tags: values(state.tags.data)\n    }\n}\n\n\nexport default connect(mapStateToProps)(Filter)\n","import React from 'react'\nimport Filter from './Filter'\n\nconst Sidebar = () => (\n    <div>\n        <Filter type='categories' panelClass='panel-info'/>\n        <Filter type='authors' panelClass='panel-danger'/>\n        <Filter type='tags' panelClass='panel-success'/>\n    </div>\n)\n\nexport default Sidebar\n","import React, { useState } from 'react'\nimport { Button, Modal as BootstrapModal } from 'react-bootstrap'\nimport { map, values, omit, has, join } from 'lodash'\nimport { createQuote, updateQuote } from '../redux/quotes'\nimport { hideModal } from '../redux/ui'\nimport { connect } from 'react-redux'\nimport CreatableSelect from 'react-select/creatable'\nimport AsyncCreatableSelect from 'react-select/async-creatable'\nimport CKEditor from 'ckeditor4-react'\nimport { client } from '../redux/api'\n\n\nexport let QuoteForm = ({ dispatch, quote, authors, categories, tags, errors }) => {\n    let defaultValues = {}\n\n    if (quote) {\n        defaultValues = omit(quote, ['author', 'category', 'tags', 'created', 'id', 'modified', 'user_id'])\n    }\n\n    const [inputs, setInputs] = useState(defaultValues)\n    const action = quote ? updateQuote({ id: quote.id, ...inputs }) : createQuote(inputs)\n\n    const promiseOptions = inputValue =>\n        new Promise(resolve => {\n            client.get('/authors/', { params: { name: inputValue } }).then(\n                (result) => resolve(map(result.data, (item) => ({ value: item.name, label: item.name })))\n            )\n        })\n\n    return (\n        <>\n            <BootstrapModal.Body>\n                <form id='quote-form' onSubmit={ (event => {\n                    event.preventDefault()\n\n                }) }>\n                    <div id=\"field-title\" className=\"form-group\">\n                        <div className=\"form-inline\">\n                            <label htmlFor=\"id_title\">Title </label>\n                            <input name=\"title\"\n                                   maxLength=\"400\"\n                                   className=\"form-control\"\n                                   id=\"id_title\"\n                                   defaultValue={ inputs.title }\n                                   onChange={ event => setInputs({\n                                       ...inputs,\n                                       [event.target.name]: event.target.value\n                                   }) }\n                            />\n\n                        </div>\n                        {\n                            has(errors, 'title') &&\n                            <div id=\"errors\" className=\"text-danger small\">\n                                {join(errors.title, ' ')}\n                            </div>\n                        }\n                    </div>\n\n                    <div id='field-private' className=\"material-switch\">\n                        <input\n                            id=\"id_private\"\n                            type=\"checkbox\"\n                            checked={inputs.private || false}\n                            onChange={(event) => setInputs({\n                                ...inputs,\n                                private: event.target.checked\n                            })}\n                        />\n                        <label htmlFor=\"id_private\" className=\"label-success switch-label\"></label>\n                        <label htmlFor=\"id_private\" style={{marginLeft: '5px'}}>Private</label>\n                    </div>\n\n                    <div>\n                        <div id=\"author\" className=\"form-group\"\n                             style={ { display: 'inline-block', paddingRight: '10px' } }\n                        >\n                            <div className=\"form-inline\">\n                                <label htmlFor=\"id_author\">Author</label>\n                                <AsyncCreatableSelect\n                                    cacheOptions\n                                    isClearable\n                                    className={ 'author-select' }\n                                    value={ { value: inputs.author_name, label: inputs.author_name } }\n                                    defaultOptions={ authors.map((item) => ({ value: item.name, label: item.name })) }\n                                    loadOptions={ promiseOptions }\n                                    onChange={ event => setInputs({\n                                        ...inputs,\n                                        author_name: event ? event.value : null\n                                    }) }\n                                />\n\n                            </div>\n                            {\n                                has(errors, 'author') &&\n                                <div id=\"errors\" className=\"text-danger small\">\n                                    { join(errors.author, ' ') }\n                                </div>\n                            }\n                        </div>\n                        <div id=\"category\" className=\"form-group\"\n                             style={ { display: 'inline-block', paddingLeft: '10px' } }\n                        >\n                            <div className=\"form-inline\">\n                                <label htmlFor=\"id_category\">Category</label>\n                                <CreatableSelect\n                                    isClearable\n                                    className={ 'category-select' }\n                                    value={ { value: inputs.category_name, label: inputs.category_name } }\n                                    options={ categories.map((item) => ({ value: item.name, label: item.name })) }\n                                    onChange={ event => setInputs({\n                                        ...inputs,\n                                        category_name: event ? event.value : null\n                                    }) }\n                                />\n\n                            </div>\n                            {\n                                has(errors, 'category') &&\n                                <div id=\"errors\" className=\"text-danger small\">\n                                    { join(errors.category, ' ') }\n                                </div>\n                            }\n                        </div>\n                    </div>\n                    <div>\n                        <div id=\"source\" className=\"form-group\"\n                             style={ { display: 'inline-block', paddingRight: '10px' } }\n                        >\n                            <div className=\"form-inline\">\n                                <label htmlFor=\"id_source\">Source</label>\n                                <input name=\"source\"\n                                       maxLength=\"400\"\n                                       className=\"form-control\"\n                                       id=\"id_source\"\n                                       defaultValue={ inputs.source }\n                                       onChange={ event => setInputs({\n                                           ...inputs,\n                                           [event.target.name]: event.target.value\n                                       }) }\n                                />\n\n                            </div>\n                            {\n                                has(errors, 'source') &&\n                                <div id=\"errors\" className=\"text-danger small\">\n                                    { join(errors.source, ' ') }\n                                </div>\n                            }\n                        </div>\n                        <div id=\"reference\" className=\"form-group\"\n                             style={ { display: 'inline-block', paddingLeft: '10px' } }\n                        >\n                            <div className=\"form-inline\">\n                                <label htmlFor=\"id_reference\">Reference</label>\n                                <input name=\"reference\"\n                                       maxLength=\"400\"\n                                       className=\"form-control\"\n                                       id=\"id_reference\"\n                                       defaultValue={ inputs.reference }\n                                       onChange={ event => setInputs({\n                                           ...inputs,\n                                           [event.target.name]: event.target.value\n                                       }) }\n                                />\n\n                            </div>\n                            {\n                                has(errors, 'reference') &&\n                                <div id=\"errors\" className=\"text-danger small\">\n                                    { join(errors.reference, ' ') }\n                                </div>\n                            }\n                        </div>\n                    </div>\n                    <div>\n                        <div id=\"tags\" className=\"form-group\"\n                             style={ { display: 'inline-block', width: '100%' } }\n                        >\n                            <div className=\"form-inline\">\n                                <label htmlFor=\"id_tags\">Tags</label>\n                                <CreatableSelect\n                                    isMulti\n                                    value={ map(inputs.tags_name, (item) => ({ value: item, label: item })) }\n                                    options={ tags.map((item) => ({ value: item.name, label: item.name })) }\n                                    className={ 'tags-select' }\n                                    onChange={ event => setInputs({\n                                        ...inputs,\n                                        tags_name: map(event, (item) => item.value)\n                                    }) }\n                                />\n\n                            </div>\n                            {\n                                has(errors, 'tags') &&\n                                <div id=\"errors\" className=\"text-danger small\">\n                                    { join(errors.tags, ' ') }\n                                </div>\n                            }\n                        </div>\n                    </div>\n                    <div>\n                        <CKEditor\n                            data={ inputs.text }\n                            config={ {\n                                toolbar: [['Bold', 'Italic', 'Link', 'Strike', '-', 'NumberedList', 'BulletedList']],\n                                height : 100\n                            } }\n                            onChange={ event => setInputs({\n                                ...inputs,\n                                text: event.editor.getData()\n                            }) }\n                        />\n                        {\n                            has(errors, 'text') &&\n                            <div id=\"errors\" className=\"text-danger small\">\n                                {join(errors.text, ' ')}\n                            </div>\n                        }\n                    </div>\n                </form>\n            </BootstrapModal.Body>\n            <BootstrapModal.Footer>\n                <Button\n                    bsStyle=\"success\"\n                    onClick={ () => dispatch(action) }\n                >\n                    Save\n                </Button>\n                <Button onClick={ () => dispatch(hideModal()) }>Close</Button>\n            </BootstrapModal.Footer>\n\n        </>\n    )\n}\n\nfunction mapStateToProps(state) {\n    return {\n        authors   : values(state.authors.data),\n        categories: values(state.categories.data),\n        tags      : values(state.tags.data),\n        errors    : state.quotes.errors\n    }\n}\n\nexport default connect(mapStateToProps)(QuoteForm)","import React from 'react'\nimport { Button, Modal as BootstrapModal } from 'react-bootstrap'\nimport { hideModal } from '../redux/ui'\nimport { removeQuote } from '../redux/quotes'\nimport { connect } from 'react-redux'\n\nconst QuoteDelete = ({quote, dispatch}) => {\n    return (\n        <>\n            <BootstrapModal.Body>\n                The quote \"<b>{quote.title}</b>\" will be deleted.\n            </BootstrapModal.Body>\n            <BootstrapModal.Footer>\n                <Button\n                    bsStyle=\"danger\"\n                    onClick={() => dispatch(removeQuote(quote))}\n                >\n                    Delete\n                </Button>\n                <Button onClick={() => dispatch(hideModal())}>Close</Button>\n            </BootstrapModal.Footer>\n        </>\n    )\n}\n\nexport default connect()(QuoteDelete)\n","import React from 'react'\n\nimport { FaPencilAlt, FaTrashAlt } from 'react-icons/fa'\nimport { connect } from 'react-redux'\nimport { showModal } from '../redux/ui'\nimport QuoteForm from './QuoteForm'\nimport QuoteDelete from './QuoteDelete'\n\nconst html = (text) => ({__html: text})\n\n\nconst getEditQuoteModal = (quote) => {\n    return {\n        title: 'Edit Quote',\n        content: <QuoteForm quote={quote}/>\n    }\n}\n\nconst getDeleteQuiteModal = (quote) => {\n    return {\n        title: 'Are you sure?',\n        content: <QuoteDelete quote={quote}/>\n    }\n}\n\nconst Quote = ({quote, user, dispatch}) => (\n    <div className=\"list-group\">\n        <div className=\"list-group-item\">\n            {(quote.user_id === user.id) &&\n            <span className=\"quote-actions\">\n                <a\n                    href=\"\"\n                    id=\"edit-button\"\n                    className=\"visible-on-hover\"\n                    onClick={(event) => {\n                        event.preventDefault()\n                        dispatch(showModal(getEditQuoteModal(quote)))\n                    }}\n\n                >\n                    <FaPencilAlt/>\n                </a>\n                <a href=\"\" id=\"delete-button\" className=\"visible-on-hover\"\n                   onClick={(event) => {\n                       event.preventDefault()\n                       dispatch(showModal(getDeleteQuiteModal(quote)))\n                   }}\n                >\n                    <FaTrashAlt/>\n                </a>\n            </span>\n            }\n            <h4 className=\"list-group-item-heading\">{quote.title}</h4>\n            <p className=\"list-group-item-text\" dangerouslySetInnerHTML={html(quote.text)}></p>\n            <div className=\"author label label-danger\">{quote.author_name}</div>\n        </div>\n    </div>\n)\n\n\nfunction mapStateToProps(state) {\n    return {\n        user: state.user.user\n    }\n}\n\nexport default connect(mapStateToProps)(Quote)\n","import React from 'react'\n\nconst Spinner = ({show}) => {\n    if (!show) {\n        return null\n    }\n\n    return (\n        <div className=\"spinner\">\n            <svg width=\"60px\" height=\"60px\" viewBox=\"0 0 66 66\" xmlns=\"http://www.w3.org/2000/svg\">\n                <circle fill=\"none\" strokeWidth=\"5\" strokeLinecap=\"round\" cx=\"33\" cy=\"33\" r=\"30\" className=\"circle\"/>\n            </svg>\n        </div>\n    )\n}\n\nexport default Spinner\n","import React from 'react'\nimport { connect } from \"react-redux\";\nimport Spinner from \"./Spinner\";\n\nconst QuotesOverlay = ({isLoading}) => {\n    if (!isLoading) {\n        return null\n    }\n\n    return (\n        <div\n            className=\"overlay\"\n            style={{\n                width: '100%',\n                height: '100%',\n                position: 'absolute',\n                zIndex: '10',\n                backgroundColor: 'white',\n                opacity: '0.6',\n            }}\n        >\n            <Spinner show={isLoading}/>\n        </div>\n    )\n}\n\nexport default connect()(QuotesOverlay)","import React from 'react'\nimport { Alert } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { reload } from \"../redux/api\";\n\nconst Offline = ({dispatch}) => {\n    return (\n        <Alert bsStyle=\"danger\">\n            You're offline. Please <strong>\n            <a\n                href='/'\n                onClick={(event) => {\n                    event.preventDefault()\n                    dispatch(reload())\n                }}\n            >\n                try again\n            </a>\n\n        </strong>.\n        </Alert>\n    )\n}\n\n\nexport default connect()(Offline)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { has, orderBy, toArray } from 'lodash'\nimport Quote from './Quote'\nimport { getQuotes } from '../redux/quotes'\nimport { withRouter } from 'react-router-dom'\nimport QuotesOverlay from \"./QuotesOverlay\";\nimport { RoutingParamsContext } from \"../redux/routing\";\nimport Offline from \"./Offline\";\n\nclass QuotesList extends React.Component {\n    static contextType = RoutingParamsContext;\n\n    constructor(props, context) {\n        super(props)\n\n        this.state = {\n            username: has(context.params, 'username') ? context.params.username : null\n        }\n    }\n\n    loadData() {\n        const {dispatch, filters, page, hasMore} = this.props\n\n        if (hasMore) {\n            this.setState({isLoading: true})\n            const params = {\n                user__username: this.state.username,\n                author: toArray(filters.authors),\n                category: toArray(filters.categories),\n                tags: toArray(filters.tags),\n                page: page ? page + 1 : page\n            }\n\n            dispatch(getQuotes(params))\n        }\n    }\n\n    componentDidMount() {\n        this.props.dispatch(getQuotes({user__username: this.state.username}))\n    }\n\n    render() {\n        return (\n            <div id=\"quotes-wrapper\">\n                <QuotesOverlay isLoading={this.props.isLoading}/>\n                <div>\n                    {\n                        this.props.quotes.map((item => (\n                            <Quote quote={item} key={item.id}/>\n                        )))\n                    }\n                    {\n                        this.props.quotes.length === 0 && this.props.isOnline && <span>There are no quotes!</span>\n                    }\n                    {\n                        !this.props.isOnline && <Offline/>\n                    }\n                </div>\n                <div className=\"pagination-wrapper\" style={{textAlign: 'center', marginBottom: '30px', float: 'none'}}>\n                    {\n                        this.props.hasMore &&\n                        <button\n                            style={{minWidth: '150px', maxWidth: '200px'}}\n                            className=\"btn btn-primary\"\n                            onClick={(event) => this.loadData()}\n                        >\n                            Load More\n                        </button>\n                    }\n                </div>\n            </div>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    const quotes = orderBy(state.quotes.data, 'id', 'desc')\n    const filters = state.filters\n\n    const page = state.quotes.page\n    const hasMore = state.quotes.hasMore\n\n    const isLoading = state.api.isLoading\n    const isOnline = state.api.isOnline\n\n    return {\n        isLoading,\n        isOnline,\n        quotes,\n        filters,\n        page,\n        hasMore\n    }\n}\n\nexport default withRouter(connect(mapStateToProps)(QuotesList))\n","import React from 'react'\nimport { showModal } from \"../redux/ui\";\nimport { FaPlus } from \"react-icons/fa\";\nimport QuoteForm from \"./QuoteForm\";\nimport { connect } from \"react-redux\";\n\nconst getNewQuoteModal = (quote) => {\n    return {\n        title: 'New Quote',\n        content: <QuoteForm/>\n    }\n}\n\nconst NewQuoteButton = ({dispatch, isAuthenticated}) => {\n    if (!isAuthenticated) {\n        return null\n    }\n\n    return (\n        <span className=\"add-quote-icon\" onClick={(event) => dispatch(showModal(getNewQuoteModal()))}>\n            <FaPlus color='#337ab7' size='2em'/>\n        </span>\n    )\n}\n\n\nfunction mapStateToProps(state) {\n    return {\n        isAuthenticated: state.user.isAuthenticated\n    }\n}\n\nexport default connect(mapStateToProps)(NewQuoteButton)\n","import TopBar from '../components/TopBar'\nimport QuotesSidebar from '../components/QuotesSidebar'\nimport QuotesList from '../components/QuotesList'\nimport React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { RoutingParamsContext } from \"../redux/routing\"\nimport NewQuoteButton from \"../components/NewQuoteButton\";\n\n\n\nconst Quotes = ({match}) => (\n    <div className=\"App\">\n        <nav className=\"navbar navbar-default navbar-static-top\" role=\"navigation\" style={{marginBottom: 0}}>\n            <TopBar/>\n        </nav>\n\n        <div id=\"page-wrapper\">\n            <div className=\"row page-header-row\">\n                <div className=\"col-lg-12\">\n                    <h3 className=\"page-header\">My Quotes</h3>\n                </div>\n            </div>\n            <div className=\"row\">\n                <RoutingParamsContext.Provider value={match}>\n                    <div id=\"quotes-list\" className=\"row\">\n                        <NewQuoteButton/>\n                        <div id=\"filters\" className=\"col-xs-12 col-md-3\">\n                            <QuotesSidebar/>\n                        </div>\n\n                        <div id=\"filtered-content\" className=\"col-xs-12 col-sm-12 col-md-8\">\n                            <QuotesList/>\n                        </div>\n                    </div>\n                </RoutingParamsContext.Provider>\n            </div>\n        </div>\n    </div>\n)\n\nexport default withRouter(Quotes)\n","import React, { useState } from 'react'\n\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { login } from '../redux/auth'\nimport { has, join } from \"lodash\";\n\n\nconst defaultValues = {\n    email: '',\n    password: ''\n}\n\nconst Login = ({errors, history, dispatch}) => {\n    const [inputs, setInputs] = useState(defaultValues)\n\n    return (\n        <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"col-md-4 col-md-offset-4\">\n                    <div className=\"login-panel panel panel-default\">\n                        <div className=\"panel-heading\">\n                            <h3 className=\"panel-title\">Login</h3>\n                        </div>\n                        <div className=\"panel-body\">\n                            <p>If you don't have an account, please <Link to=\"/signup\">sign up</Link>.</p>\n                            {\n                                has(errors, 'non_field_errors') && errors.non_field_errors.map((error, idx) => {\n                                    return (\n                                        <div key={idx} className=\"text-danger small\">\n                                            {error}\n                                        </div>\n                                    )\n                                })\n                            }\n                            <form className=\"login\">\n                                <div className=\"form-group\">\n                                    <input\n                                        type=\"email\"\n                                        name=\"login\"\n                                        placeholder=\"E-mail\"\n                                        autoFocus=\"autofocus\"\n                                        className=\"form-control\"\n                                        required=\"\"\n                                        id=\"id_login\"\n                                        onChange={(event) => setInputs({...inputs, email: event.target.value})}\n                                    />\n                                    {\n                                        has(errors, 'email') &&\n                                        <div id=\"errors\" className=\"text-danger small\">\n                                            {join(errors.email, ' ')}\n                                        </div>\n                                    }\n                                </div>\n                                <div className=\"form-group\">\n                                    <input\n                                        type=\"password\"\n                                        name=\"password\"\n                                        placeholder=\"Password\"\n                                        className=\"form-control\"\n                                        required=\"\"\n                                        id=\"id_password\"\n                                        onChange={(event) => setInputs({...inputs, password: event.target.value})}\n                                    />\n                                </div>\n                                <button\n                                    className=\"btn btn-lg btn-success btn-block\"\n                                    onClick={(e) => {\n                                        e.preventDefault()\n                                        dispatch(login(inputs))\n                                    }}\n                                >\n                                    Sign In\n                                </button>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nfunction mapStateToProps(state) {\n    return {\n        errors: state.auth.errors\n    }\n}\n\nexport default connect(mapStateToProps)(withRouter(Login))\n","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { has, join } from \"lodash\";\nimport { connect } from \"react-redux\";\nimport { signup } from \"../redux/auth\";\n\nconst defaultValues = {\n    email: '',\n    password1: '',\n    password2: '',\n}\n\nconst Signup = ({errors, dispatch}) => {\n\n    const [inputs, setInputs] = useState(defaultValues)\n    return (\n        <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"col-md-4 col-md-offset-4\">\n                    <div className=\"login-panel panel panel-default\">\n                        <div className=\"panel-heading\">\n                            <h3 className=\"panel-title\">Sign Up</h3>\n                        </div>\n                        <div className=\"panel-body\">\n                            <p>Already have an account? Please <Link to=\"/login\">log in</Link>.</p>\n                            {\n                                has(errors, 'non_field_errors') && errors.non_field_errors.map((error, idx) => {\n                                    return (\n                                        <div key={idx} className=\"text-danger small\">\n                                            {error}\n                                        </div>\n                                    )\n                                })\n                            }\n\n                            <form className=\"signup\" method=\"POST\" action=\"/signup\">\n                                <div className=\"form-group\">\n                                    <input\n                                        type=\"email\"\n                                        name=\"email\"\n                                        placeholder=\"E-mail\"\n                                        className=\"form-control\"\n                                        required=\"\" id=\"id_email\"\n                                        onChange={(event) => setInputs({...inputs, email: event.target.value})}\n                                    />\n                                    {\n                                        has(errors, 'email') &&\n                                        <div id=\"errors\" className=\"text-danger small\">\n                                            {join(errors.email, ' ')}\n                                        </div>\n                                    }\n                                </div>\n                                <div className=\"form-group\">\n                                    <input\n                                        type=\"password\"\n                                        name=\"password1\"\n                                        placeholder=\"Password\"\n                                        className=\"form-control\"\n                                        required=\"\"\n                                        id=\"id_password1\"\n                                        onChange={(event) => setInputs({...inputs, password1: event.target.value})}\n                                    />\n                                    {\n                                        has(errors, 'password1') &&\n                                        <div id=\"errors\" className=\"text-danger small\">\n                                            {join(errors.password1, ' ')}\n                                        </div>\n                                    }\n                                </div>\n                                <div className=\"form-group\">\n                                    <input\n                                        type=\"password\"\n                                        name=\"password2\"\n                                        placeholder=\"Password (again)\"\n                                        className=\"form-control\"\n                                        required=\"\"\n                                        id=\"id_password2\"\n                                        onChange={(event) => setInputs({...inputs, password2: event.target.value})}\n                                    />\n                                    {\n                                        has(errors, 'password2') &&\n                                        <div id=\"errors\" className=\"text-danger small\">\n                                            {join(errors.password2, ' ')}\n                                        </div>\n                                    }\n                                </div>\n\n                                <button\n                                    className=\"btn btn-lg btn-success btn-block\"\n                                    type=\"submit\"\n                                    onClick={(e) => {\n                                        e.preventDefault()\n                                        dispatch(signup(inputs))\n                                    }}\n                                >\n                                    Sign Up\n                                </button>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nfunction mapStateToProps(state) {\n    return {\n        errors: state.auth.errors\n    }\n}\n\nexport default connect(mapStateToProps)(Signup)\n","import React from 'react'\n\nimport { Link, withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nconst InactiveAccount = ({history, dispatch}) => {\n\n    return (\n        <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"col-md-4 col-md-offset-4\">\n                    <div className=\"login-panel panel panel-default\">\n                        <div className=\"panel-heading\">\n                            <h3 className=\"panel-title\">Account waiting for approval</h3>\n                        </div>\n                        <div className=\"panel-body\">\n                            Please try to <Link to='/login'>login</Link> after receiving approval.\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default connect()(withRouter(InactiveAccount))\n","const UPDATE_USER = 'UPDATE_USER'\nconst UPDATE_USER_SUCCESS = 'UPDATE_USER_SUCCESS'\n\n\nconst initialState = {\n    token: null,\n    user: {\n        id: null,\n        email: null\n    },\n    isAuthenticated: false,\n    errors: {}\n}\n\n\nexport function reducer(state = initialState, action = {}) {\n    switch (action.type) {\n        case UPDATE_USER_SUCCESS:\n            return {\n                ...state,\n                user: action.payload.data,\n            }\n\n        case 'LOGIN_SUCCESS':\n            return {\n                ...state,\n                token: action.payload.data.token,\n                user: action.payload.data.user,\n                isAuthenticated: true,\n                errors: {}\n            }\n        case 'LOGIN_FAIL':\n        case 'SIGNUP_FAIL':\n            return {\n                ...state,\n                isAuthenticated: false,\n                errors: action.payload\n            }\n        case 'LOGOUT':\n            return initialState\n\n        default:\n            return state\n    }\n}\n\nexport const updateUser = (user) => {\n    const url = '/users/me/'\n\n    return {\n        type: UPDATE_USER,\n        payload: {\n            request: {\n                url: url,\n                method: 'PATCH',\n                data: user\n            }\n        }\n    }\n}\n","import TopBar from '../components/TopBar'\nimport React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from \"react-redux\";\nimport { updateUser } from \"../redux/user\";\n\n\nconst Settings = ({match, errors, dispatch, user}) => {\n    const [inputs, setInputs] = useState(user)\n\n    return (\n        <div className=\"App\">\n            <nav className=\"navbar navbar-default navbar-static-top\" role=\"navigation\" style={{marginBottom: 0}}>\n                <TopBar/>\n            </nav>\n            <div id=\"page-wrapper\" style={{minHeight: '353px'}} className={'col-md-4 col-md-offset-4'}>\n                <div className=\"row page-header-row\">\n                    <div className=\"col-lg-12\">\n                        <h3 className=\"page-header\">Settings</h3>\n                    </div>\n                </div>\n                <div className=\"row\">\n\n                    <div id=\"user-edit\">\n                        <div className=\"col-xs-12 col-sm-12 col-md-8\">\n                            <form method=\"post\" action=\"/settings/\" id=\"settings-form\">\n                                <div className=\"form-group\">\n                                    <div\n                                        className=\"form-inline\">\n                                        <label htmlFor=\"id_username\">Username (URL)</label>\n                                        <input\n                                            type=\"text\"\n                                            name=\"username\"\n                                            maxLength=\"150\"\n                                            className=\"form-control\" required=\"\"\n                                            id=\"id_username\"\n                                            defaultValue={inputs.username}\n                                            onChange={event => setInputs({\n                                                ...inputs,\n                                                [event.target.name]: event.target.value\n                                            })}\n                                        />\n                                    </div>\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <div className=\"form-inline\">\n                                        <label htmlFor=\"id_email\">Email address</label>\n                                        <input type=\"email\"\n                                               name=\"email\"\n                                               maxLength=\"254\"\n                                               className=\"form-control\"\n                                               id=\"id_email\"\n                                               defaultValue={inputs.email}\n                                               onChange={event => setInputs({\n                                                   ...inputs,\n                                                   [event.target.name]: event.target.value\n                                               })}\n                                        />\n                                    </div>\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <div className=\"form-inline\">\n                                        <label htmlFor=\"id_first_name\">First Name</label>\n                                        <input type=\"text\"\n                                               name=\"first_name\"\n                                               maxLength=\"30\"\n                                               className=\"form-control\"\n                                               id=\"id_first_name\"\n                                               defaultValue={inputs.first_name}\n                                               onChange={event => setInputs({\n                                                   ...inputs,\n                                                   [event.target.name]: event.target.value\n                                               })}\n                                        />\n                                    </div>\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <div className=\"form-inline\">\n                                        <label htmlFor=\"id_last_name\">Last Name</label>\n                                        <input name=\"last_name\"\n                                               maxLength=\"150\"\n                                               className=\"form-control\"\n                                               id=\"id_last_name\"\n                                               defaultValue={inputs.last_name}\n                                               onChange={event => setInputs({\n                                                   ...inputs,\n                                                   [event.target.name]: event.target.value\n                                               })}\n\n                                        />\n                                    </div>\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <span\n                                        className=\"btn btn-success\"\n                                        onClick={() => dispatch(updateUser(inputs))}\n                                    >\n                                        Save\n                                    </span>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nfunction mapStateToProps(state) {\n    console.log(state.user)\n    return {\n        user: state.user.user\n    }\n}\n\nexport default connect(mapStateToProps)(withRouter(Settings))\n","import Quotes from \"./screens/Quotes\";\nimport Login from \"./screens/Login\";\nimport Signup from \"./screens/Signup\";\nimport InactiveAccount from \"./screens/InactiveAccount\";\nimport Settings from \"./screens/Settings\";\n\nclass Route {\n    constructor(path, component, isPublic = false) {\n        this.path = path\n        this.component = component\n        this.isPublic = isPublic\n    }\n}\n\n\nexport const ROUTES = [\n    new Route('/', Quotes, false),\n    // new Route('/quotes', Quotes, false),\n    new Route('/login', Login, true),\n    new Route('/signup', Signup, true),\n    new Route('/inactive', InactiveAccount, true),\n    new Route('/settings', Settings, false),\n    new Route('/:username', Quotes, true),\n]\n","import { Redirect, withRouter } from \"react-router\";\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { updateRoute } from \"../redux/routing\";\n\nconst RouterManager = ({route, isAuthenticated, match, dispatch, location}) => {\n    useEffect(() => {\n        dispatch(updateRoute({match, location}))\n    });\n\n    if (!route.isPublic && !isAuthenticated) {\n        return <Redirect to='/login'/>\n    }\n\n    return React.createElement(route.component)\n}\n\nfunction mapStateToProps(state) {\n    return {\n        isAuthenticated: state.user.isAuthenticated\n    }\n}\n\nexport default connect(mapStateToProps)(withRouter(RouterManager))\n","import React from \"react\";\nimport { Route, Router as ReactRouter, Switch } from \"react-router\";\nimport { history } from \"../App\";\nimport { map } from 'lodash'\nimport { ROUTES } from \"../routing\";\nimport RouterManager from \"./RouterManager\";\n\n\nclass Router extends React.Component {\n    render() {\n        return (\n            <ReactRouter history={history}>\n                <Switch>\n                    {\n                        map(ROUTES, (route, idx) => {\n                            return (\n                                <Route\n                                    exact\n                                    key={idx}\n                                    path={route.path}\n                                    render={(props) => {\n                                        return (\n                                            <RouterManager route={route}/>\n                                        )\n                                    }}\n                                />\n                            )\n                        })\n                    }\n                </Switch>\n            </ReactRouter>\n        )\n    }\n}\n\n\nexport default Router\n","import { select, takeEvery } from 'redux-saga/effects'\n\n\nexport const INITIALIZE = 'INITIALIZE'\nexport const INITIALIZED = 'INITIALIZED'\n\nconst initialState = {}\n\n\nexport function reducer(state = initialState, action = {}) {\n    switch (action.type) {\n        case INITIALIZE:\n            return state\n        case INITIALIZED:\n            return state\n        default:\n            return state\n    }\n}\n\nexport function* handleAppInitialization() {\n    console.log('Do app init stuff...')\n\n    const existingToken = yield select((state) => state.user.token)\n    if (existingToken) {\n        console.log('Call token refresh...')\n    }\n}\n\nexport function* saga() {\n    yield takeEvery(INITIALIZE, handleAppInitialization)\n}\n\n\nexport const initialize = () => ({type: INITIALIZE})\n","import React from 'react'\nimport { createBrowserHistory, createMemoryHistory } from 'history'\n\nimport { connect } from 'react-redux'\nimport Modal from './components/Modal'\nimport './css/sb-admin-2.css'\nimport './css/global.css'\nimport './css/quote.css'\nimport './App.css'\nimport Router from \"./components/Router\";\nimport { initialize } from \"./redux/app\";\n\n\nexport const history = process.env.NODE_ENV === 'test' ? createMemoryHistory() : createBrowserHistory()\nexport const {push, replace} = history\n\n\nclass App extends React.Component {\n    componentDidMount() {\n        this.props.dispatch(initialize())\n    }\n\n    render() {\n        const {modal} = this.props\n\n        return (\n            <div>\n                <Router/>\n                {modal && <Modal {...modal} />}\n            </div>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        modal: state.ui.modal\n    }\n}\n\nexport default connect(mapStateToProps)(App)\n","import { takeEvery, call } from 'redux-saga/effects'\nimport { setHeaders } from './api'\nimport { push } from \"../App\";\n\n\nconst initialState = {\n    errors: {}\n}\n\n\nexport function reducer(state = initialState, action = {}) {\n    switch (action.type) {\n        case 'LOGIN_SUCCESS':\n            return {\n                ...state,\n                errors: {}\n            }\n        case 'LOGIN_FAIL':\n        case 'SIGNUP_FAIL':\n            return {\n                ...state,\n                errors: action.payload\n            }\n        case 'LOGOUT':\n            return initialState\n\n        default:\n            return state\n    }\n}\n\nfunction* handleLoginSuccess(payload) {\n    yield call(setHeaders, {Authorization: payload.payload.data.token})\n    yield call(push, '/')\n}\n\n\nexport function* handleUserUnauthenticated() {\n    yield call(push, 'login')\n}\n\nfunction* redirectToLogin() {\n    yield call(push, 'login')\n}\n\nfunction* handleLogout() {\n    yield redirectToLogin()\n}\n\nfunction* handleSignupSuccess() {\n    yield call(push, 'inactive')\n}\n\nexport function* saga() {\n    yield takeEvery('LOGIN_SUCCESS', handleLoginSuccess)\n    yield takeEvery('SIGNUP_SUCCESS', handleSignupSuccess)\n    yield takeEvery('LOGOUT', handleLogout)\n    // yield takeEvery(REHYDRATE, handleExistingToken)\n}\n\n\nexport const login = (data) => {\n    const url = '/auth/login/'\n\n    return (\n        {\n            type: 'LOGIN',\n            payload: {\n                request: {\n                    url: url,\n                    method: 'POST',\n                    data: data\n                }\n            }\n        }\n    )\n}\n\nexport const signup = (data) => {\n    const url = '/auth/signup/'\n\n    return (\n        {\n            type: 'SIGNUP',\n            payload: {\n                request: {\n                    url: url,\n                    method: 'POST',\n                    data: data\n                }\n            }\n        }\n    )\n}\n\n\nexport const logout = () => {\n    return (\n        {\n            type: 'LOGOUT'\n        }\n    )\n}\n","import { has } from 'lodash'\nimport { call, takeEvery, put, select } from 'redux-saga/effects'\nimport { forEach } from 'lodash'\nimport axios from 'axios'\nimport * as qs from 'qs'\nimport { handleUserUnauthenticated } from \"./auth\";\nimport { store } from \"../index\";\nimport { handleFilterChange } from \"./filters\";\nimport { getAuthors } from \"./authors\";\nimport { getCategories } from \"./categories\";\nimport { getTags } from \"./tags\";\n\nconst initialState = {\n    pendingRequests: 0,\n    isLoading: false,\n    isOnline: true\n}\n\nconst REQUEST_STARTED = 'REQUEST_STARTED'\nconst REQUEST_FINISHED = 'REQUEST_FINISHED'\nconst API_IS_OFFLINE = 'API_IS_OFFLINE'\nconst RELOAD = 'RELOAD'\n\nexport function reducer(state = initialState, action = {}) {\n    let currentPendingRequests\n\n    switch (action.type) {\n        case REQUEST_STARTED:\n            currentPendingRequests = state.pendingRequests + 1\n            return {\n                ...state,\n                pendingRequests: currentPendingRequests,\n                isLoading: currentPendingRequests > 0\n            }\n\n        case REQUEST_FINISHED:\n            currentPendingRequests = state.pendingRequests - 1\n            return {\n                ...state,\n                pendingRequests: currentPendingRequests,\n                isLoading: currentPendingRequests > 0,\n                isOnline: true\n            }\n        case API_IS_OFFLINE:\n            return {\n                ...state,\n                isOnline: false\n            }\n\n        default:\n            return state\n    }\n}\n\n// Deprecated reducer...\nexport function oldReducer(state = initialState, action = {}) {\n    if (has(action.payload, 'request')) {\n        if (has(action.payload, 'status')) {\n            return {\n                isLoading: false\n            }\n        }\n        else {\n            return {\n                isLoading: true\n            }\n        }\n    }\n\n    if (has(action, 'error')) {\n        return {\n            isLoading: false\n        }\n    }\n\n    return state\n}\n\nexport const SUCCESS_SUFFIX = '_SUCCESS'\nexport const ERROR_SUFFIX = '_FAIL'\n\nexport const client = axios.create({\n    baseURL: process.env.REACT_APP_API_URL,\n    responseType: 'json',\n    paramsSerializer: function (params) {\n        return qs.stringify(params, {arrayFormat: 'repeat', skipNulls: true})\n    },\n})\n\nclient.interceptors.request.use((config) => {\n    store.dispatch({type: REQUEST_STARTED})\n    return config;\n}, (error) => {\n    return Promise.reject(error);\n});\n\nclient.interceptors.response.use((response) => {\n    store.dispatch({type: REQUEST_FINISHED})\n    return response;\n}, (error) => {\n    store.dispatch({type: REQUEST_FINISHED})\n    return Promise.reject(error);\n});\n\nexport function setHeaders(headers) {\n    forEach(headers, (value, name) => {\n        axios.defaults.headers.common[name] = value\n    })\n}\n\nfunction* handleReload() {\n    const routing = yield select((state) => state.routing)\n\n    const params = {\n        user__username: has(routing.match.params, 'username') ? routing.match.params.username : null\n    }\n\n    yield handleFilterChange()\n\n    yield put(getAuthors(params))\n    yield put(getCategories(params))\n    yield put(getTags(params))\n}\n\nfunction* handleRequest(action) {\n    const {type, payload: {request}} = action\n    const url = request.url\n    const method = request.method ? request.method : 'GET'\n    const data = request.data ? request.data : null\n    const params = request.params ? request.params : {}\n    let headers = {}\n\n    const userToken = yield select((state => state.user.token))\n    if (userToken) {\n        headers['Authorization'] = `JWT ${userToken}`\n        // headers['Authorization'] = `JWT abc`\n    }\n\n    try {\n        const response = yield call(client, url, {params, method, data, headers})\n        yield put({type: type + SUCCESS_SUFFIX, payload: response})\n    }\n    catch (errorResponse) {\n        if (!errorResponse.response) {\n            console.log('It should be a network error.')\n            yield put({type: API_IS_OFFLINE})\n        }\n        else {\n            yield put({type: type + ERROR_SUFFIX, payload: errorResponse.response.data})\n\n            if (errorResponse.response.status === 401) {\n                yield handleUserUnauthenticated()\n            }\n        }\n    }\n}\n\n\nconst API_ACTIONS = [\n    'GET_QUOTES',\n    'GET_QUOTE',\n    'CREATE_QUOTE',\n    'UPDATE_QUOTE',\n    'DELETE_QUOTE',\n    'GET_AUTHORS',\n    'GET_AUTHOR',\n    'CREATE_AUTHOR',\n    'UPDATE_AUTHOR',\n    'DELETE_AUTHOR',\n    'GET_CATEGORIES',\n    'GET_CATEGORY',\n    'CREATE_CATEGORY',\n    'UPDATE_CATEGORY',\n    'DELETE_CATEGORY',\n    'GET_TAGS',\n    'GET_TAG',\n    'CREATE_TAG',\n    'UPDATE_TAG',\n    'DELETE_TAG',\n    'UPDATE_USER',\n    'LOGIN',\n    'SIGNUP'\n]\n\nexport function* saga() {\n    yield takeEvery(API_ACTIONS, handleRequest)\n    yield takeEvery(RELOAD, handleReload)\n}\n\n\nexport const reload = () => ({\n    type: RELOAD\n})\n","import { createStore as createReduxStore, applyMiddleware, combineReducers } from 'redux'\nimport createSagaMiddleware from 'redux-saga'\nimport { all } from 'redux-saga/effects'\n\n\nimport storage from 'redux-persist/lib/storage'\nimport { persistReducer } from 'redux-persist'\n\nimport { reducer as apiReducer } from './api'\nimport { reducer as userReducer } from './user'\nimport { reducer as authReducer } from './auth'\nimport { reducer as routingReducer } from './routing'\n\nimport { reducer as quotesReducer } from './quotes'\nimport { reducer as categoriesReducer } from './categories'\nimport { reducer as authorsReducer } from './authors'\nimport { reducer as tagsReducer } from './tags'\nimport { reducer as uiReducer } from './ui'\nimport { reducer as filtersReducer } from './filters'\nimport { reducer as appReducer } from './app'\n\nimport { saga as authSaga } from './auth'\nimport { saga as quotesSaga } from './quotes'\nimport { saga as apiSaga } from './api'\nimport { saga as filtersSaga } from './filters'\nimport { saga as appSaga } from './app'\nimport thunk from 'redux-thunk'\n\n\nfunction* rootSaga() {\n    yield all([\n        authSaga(),\n        quotesSaga(),\n        apiSaga(),\n        filtersSaga(),\n        appSaga(),\n    ])\n}\n\nconst persistConfig = {\n    key: 'cache',\n    storage,\n    whitelist: ['user']\n}\n\nconst rootReducer = combineReducers({\n    api: apiReducer,\n    ui: uiReducer,\n    user: userReducer,\n    auth: authReducer,\n    routing: routingReducer,\n    quotes: quotesReducer,\n    authors: authorsReducer,\n    categories: categoriesReducer,\n    tags: tagsReducer,\n    filters: filtersReducer,\n    app: appReducer\n})\n\nconst persistedRootReducer = persistReducer(persistConfig, rootReducer)\n\n\nexport function createRootStore(initialState = {}) {\n    const sagaMiddleware = createSagaMiddleware()\n\n    const store = createReduxStore(\n        persistedRootReducer,\n        initialState,\n        applyMiddleware(\n            thunk,\n            sagaMiddleware\n        )\n    )\n\n    sagaMiddleware.run(rootSaga)\n\n    store.subscribe(() => {\n        console.log(store.getState())\n    })\n\n    return store\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport * as serviceWorker from './serviceWorker'\nimport { createRootStore } from './redux/store'\nimport { Provider } from 'react-redux'\nimport { persistStore } from 'redux-persist'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport App from './App'\n\n\nexport const store = createRootStore()\nconst persistor = persistStore(store)\n\n\nReactDOM.render(\n    <Provider store={ store }>\n        <PersistGate loading={ null } persistor={ persistor }>\n            <App/>\n        </PersistGate>\n    </Provider>,\n    document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}