{"version":3,"sources":["components/Verse.js","redux/verse.js","components/InfiniteList.js","components/Search.js","components/Dropdown.js","components/FiltersForm.js","components/Layout.js","redux/book.js","components/Spinner.js","App.js","serviceWorker.js","redux/chapter.js","redux/api.js","redux/filters.js","redux/store.js","index.js"],"names":["Verse","_ref","number","text","react_default","a","createElement","className","style","marginRight","initialState","data","count","getVerses","bookTitle","type","payload","request","url","params","book_title","chapter_number","arguments","length","undefined","search","page","page_size","InfiniteList","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","window","onscroll","scrollHeight","document","body","scrollTop","documentElement","innerHeight","offsetHeight","loadData","_this$props","dispatch","filters","hasMore","book","chapter","verses","map","item","i","array","key","index","previousItem","isUndefined","isFirstBookOccurrence","isFirstChapterOccurrence","components_Verse","Component","connect","state","selector","formValueSelector","Search","handleKeyPress","e","onSearch","textInput","current","value","React","createRef","assign","onKeyPress","placeholder","height","ref","input","onClick","DropDown","options","onChange","react_select_esm","isClearable","event","FiltersForm","handleSubmit","onSubmit","margin","Field","name","component","reduxForm","form","bookOptions","values","books","title","label","chapterOptions","chapters","filtersValues","isEmpty","Layout","components_FiltersForm","components_InfiniteList","Spinner","show","width","viewBox","xmlns","fill","strokeWidth","strokeLinecap","cx","cy","r","App","setTimeout","getElementById","display","id","components_Spinner","isLoading","components_Layout","api","Boolean","location","hostname","match","isVisible","saga","handleChangeBook","handleChangeChapter","handleSearch","handleFormChange","regenerator_default","wrap","_context","prev","next","takeEvery","stop","_marked","_context2","put","_marked2","_ref2","_context3","console","log","_marked3","_context4","select","sent","_marked4","formValues","_context5","t0","meta","field","abrupt","_marked5","rootSaga","all","filtersSaga","store_marked","rootReducer","combineReducers","action","results","response","isFirstPage","toConsumableArray","concat","has_more","has","formReducer","client","axios","create","baseURL","process","responseType","store","reducer","sagaMiddleware","createSagaMiddleware","createReduxStore","applyMiddleware","axiosMiddleware","run","createStore","subscribe","getState","ReactDOM","render","es","src_App_0","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.f82c4626.chunk.js","sourcesContent":["import React from 'react'\n\nconst Verse = ({ number, text }) => (\n    <div className=\"verse\">\n        <span className=\"verse-number\" style={{ marginRight: '2px' }}>{number}.</span>\n        <span className=\"verse-text\">{text}</span>\n    </div>\n)\n\nexport default Verse\n","const initialState = {\n    data: [],\n    count: null\n}\n\n\nexport function reducer(state = initialState, action = {}) {\n    switch(action.type) {\n        case 'GET_VERSES_SUCCESS':\n            let response = action.payload.data\n\n            let data = isFirstPage(response) ? response.results : [...state.data, ...response.results]\n\n            return {\n                data: data,\n                count: response.count,\n                page: response.page,\n                hasMore: response.has_more\n            }\n        default:\n            return state\n    }\n}\n\nfunction isFirstPage(response) {\n    return response.page === 1\n}\n\nexport function getVerses(bookTitle, chapterNumber = null, search = null, page = null) {\n    return {\n        type: 'GET_VERSES',\n        payload: {\n            request: {\n                url: '/verses/',\n                params: {\n                    book_title: bookTitle,\n                    chapter_number: chapterNumber,\n                    search: search,\n                    page: page,\n                    page_size: 100\n                }\n            }\n        }\n    }\n}\n","import React, { Component } from 'react'\nimport Verse from './Verse'\nimport { connect } from 'react-redux'\nimport { getVerses } from '../redux/verse'\nimport { isUndefined } from 'lodash'\nimport { formValueSelector } from 'redux-form'\n\nfunction isFirstChapterOccurrence(item, index, array) {\n    const previousItem = array[index - 1]\n    if (isUndefined(previousItem)) {\n        return true\n    }\n\n    return previousItem.chapter_number !== item.chapter_number\n}\n\nfunction isFirstBookOccurrence(item, index, array) {\n    const previousItem = array[index - 1]\n    if (isUndefined(previousItem)) {\n        return true\n    }\n\n    return previousItem.book_title !== item.book_title\n}\n\nclass InfiniteList extends Component {\n    constructor(props) {\n        super(props)\n\n        window.onscroll = () => {\n            let scrollHeight = document.body.scrollTop || document.documentElement.scrollTop\n            let scroll = window.innerHeight + scrollHeight\n            let offset = document.documentElement.offsetHeight\n\n            if (scroll === offset) {\n                this.loadData()\n            }\n        }\n    }\n\n    loadData() {\n        const { dispatch, filters, page, hasMore } = this.props\n\n        if (hasMore) {\n            dispatch(getVerses(filters.book, filters.chapter, filters.search, page ? page + 1 : page))\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"verses-wrapper\">\n                {this.props.verses.map(\n                    (item, i, array) => (\n                        <div key={i}>\n                            {isFirstBookOccurrence(item, i, array) && <h2>{item.book_title}</h2>}\n                            {isFirstChapterOccurrence(item, i, array) && <h3>{item.chapter_number}</h3>}\n                            <Verse key={i} number={item.number} text={item.text}/>\n                        </div>\n                    )\n                )}\n                {!this.props.verses.length &&\n                <h4 className=\"no-results\">No results...</h4>\n                }\n            </div>\n        )\n    }\n}\n\n\nfunction mapStateToProps(state) {\n    const selector = formValueSelector('filters')\n\n    const verses = state.verses.data\n    const page = state.verses.page\n    const hasMore = state.verses.hasMore\n    const filters = selector(state, 'book', 'chapter', 'search')\n\n    return {\n        verses,\n        page,\n        hasMore,\n        filters\n    }\n}\n\nexport default connect(mapStateToProps)(InfiniteList)\n","import React, { Component } from 'react'\n\n\nclass Search extends Component {\n    constructor(props) {\n        super(props)\n        this.textInput = React.createRef()\n    }\n\n    handleKeyPress = (e) => {\n        if (e.key === 'Enter') {\n            this.search()\n        }\n    }\n\n    search = () => {\n        const { onSearch } = this.props\n        let searchValue = this.textInput.current.value\n        onSearch(searchValue)\n    }\n\n    render() {\n        return (\n            <div className=\"input-group\">\n                <input\n                    type=\"text\"\n                    onKeyPress={this.handleKeyPress}\n                    className=\"form-control\"\n                    placeholder=\"Search...\"\n                    style={{ height: '38px' }}\n                    ref={this.textInput}\n                    {...this.props.input}\n                />\n                <span className=\"input-group-btn\">\n                <button\n                    onClick={this.search}\n                    className=\"btn btn-default\"\n                    style={{ height: '38px' }}\n                    type=\"button\">Go!\n                </button>\n                </span>\n            </div>\n        )\n    }\n}\n\nexport default Search\n","import React from 'react'\n\nimport Select from 'react-select'\n\nconst DropDown = ({ options, value, placeholder, input }) => {\n    const { onChange } = input\n\n    return (\n        <Select\n            isClearable\n            options={options}\n            value={value}\n            placeholder={placeholder}\n            onChange={(event) => onChange(event ? event.value : null)}\n        />\n    )\n}\n\nexport default DropDown\n","import React from 'react'\nimport { Field, formValueSelector, reduxForm } from 'redux-form'\nimport Search from './Search'\nimport connect from 'react-redux/es/connect/connect'\nimport { isEmpty, values } from 'lodash'\nimport DropDown from './Dropdown'\n\nlet FiltersForm = props => {\n    const { handleSubmit, book, chapter, dispatch } = props\n    return (\n        <form onSubmit={handleSubmit}>\n            <div className='row'>\n                <div className='col-sm-2' style={{ margin: '5px' }}>\n                    <Field\n                        name='book'\n                        component={DropDown}\n                        placeholder='Book'\n                        options={book.options}\n                        value={book.value}\n                    />\n                </div>\n                <div className='col-sm-2' style={{ margin: '5px' }}>\n                    <Field\n                        name='chapter'\n                        component={DropDown}\n                        placeholder='Chapter'\n                        isClearable\n                        options={chapter.options}\n                        value={chapter.value}\n                    />\n                </div>\n                <div className='col-sm-3' style={{ margin: '5px' }}>\n                    <Field\n                        name='search'\n                        component={Search}\n                        onSearch={(value) => dispatch({ type: 'VERSE_SEARCH', payload: value })}\n                    />\n                </div>\n            </div>\n        </form>\n    )\n}\n\nFiltersForm = reduxForm({\n    form: 'filters'\n})(FiltersForm)\n\n\nfunction mapStateToProps(state) {\n    const bookOptions = values(state.books.data).map((item) => ({ value: item.title, label: item.title }))\n    const chapterOptions = values(state.chapters.data).map((item) => ({ value: item.number, label: item.number }))\n\n    const selector = formValueSelector('filters')\n    const filtersValues = selector(state, 'book', 'chapter')\n\n    if (isEmpty(filtersValues)) {\n        return {\n            book: { value: null, options: bookOptions },\n            chapter: { value: null, options: [] },\n        }\n    }\n\n    const { book, chapter } = filtersValues\n\n    return {\n        book: { value: book, options: bookOptions },\n        chapter: { value: chapter, options: book ? chapterOptions : [] },\n    }\n}\n\nexport default connect(mapStateToProps)(FiltersForm)\n","import React from 'react'\nimport InfiniteList from './InfiniteList'\nimport FiltersForm from './FiltersForm'\n\nconst Layout = () => (\n    <div>\n        <FiltersForm/>\n        <InfiniteList/>\n    </div>\n)\n\nexport default Layout\n","const initialState = {\n    data: [],\n    count: null\n}\n\nexport function reducer(state = initialState, action = {}) {\n    switch(action.type) {\n        case 'GET_BOOKS_SUCCESS':\n            return {\n                data: action.payload.data.results,\n                count: action.payload.data.count\n            }\n        default:\n            return state\n    }\n}\n\nexport function getBooks() {\n    return {\n        type: 'GET_BOOKS',\n        payload: {\n            request: {\n                url: '/books/',\n                params: {\n                    page_size: 1000\n                }\n            }\n        }\n    }\n}\n","import React from 'react'\n\nconst Spinner = ({show}) => {\n    if (!show) {\n        return null\n    }\n\n    return (\n        <div className=\"spinner\">\n            <svg width=\"30px\" height=\"30px\" viewBox=\"0 0 66 66\" xmlns=\"http://www.w3.org/2000/svg\">\n                <circle fill=\"none\" strokeWidth=\"5\" strokeLinecap=\"round\" cx=\"33\" cy=\"33\" r=\"30\" className=\"circle\"/>\n            </svg>\n        </div>\n    )\n}\n\nexport default Spinner\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\n\nimport './App.css'\nimport Layout from './components/Layout'\nimport { getBooks } from './redux/book'\nimport { getVerses } from './redux/verse'\nimport Spinner from './components/Spinner'\n\nclass App extends Component {\n    componentDidMount() {\n        const { dispatch } = this.props\n\n        setTimeout(() => document.getElementById('loader').style.display = 'none', 250)\n\n        dispatch(getBooks())\n        dispatch(getVerses())\n    }\n\n    render() {\n        return (\n            <div id=\"page-wrapper\">\n                <div className=\"row page-header-row\">\n                    <div className=\"col-lg-12\">\n                        <h2 className=\"page-header\">Bible</h2>\n                        <Spinner show={this.props.isLoading}/>\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div id=\"content-wrapper\">\n                        <div className=\"App\">\n                            <Layout/>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    const isLoading = state.api.isLoading\n\n    return { isLoading }\n}\n\nexport default connect(mapStateToProps)(App)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const initialState = {\n    data: [],\n    count: null\n}\n\nexport function reducer(state = initialState, action = {}) {\n    switch(action.type) {\n        case 'GET_CHAPTERS_SUCCESS':\n            return {\n                data: action.payload.data.results,\n                count: action.payload.data.count\n            }\n        default:\n            return state\n    }\n}\n\nexport function getChapters(bookTitle) {\n    return {\n        type: 'GET_CHAPTERS',\n        payload: {\n            request: {\n                url: '/chapters/',\n                params: {\n                    book_title: bookTitle,\n                    page_size: 1000\n                }\n            }\n        }\n    }\n}\n","import { has } from 'lodash'\n\nconst initialState = {\n    isLoading: false,\n    isVisible: false\n}\n\nexport function reducer(state = initialState, action = {}) {\n    if (has(action.payload, 'request')) {\n        if (has(action.payload, 'status')) {\n            return {\n                isLoading: false\n            }\n        }\n        else {\n            return {\n                isLoading: true\n            }\n        }\n    }\n\n    if (has(action, 'error')) {\n        return {\n            isLoading: false\n        }\n    }\n\n\n    return state\n}\n","import { takeEvery, put, select } from 'redux-saga/effects'\nimport { getChapters } from './chapter'\nimport { getVerses } from './verse'\nimport { formValueSelector } from 'redux-form'\n\nexport function* saga() {\n    yield takeEvery('VERSE_SEARCH', handleSearch)\n    yield takeEvery('@@redux-form/CHANGE', handleFormChange)\n}\n\nfunction* handleChangeBook({ book }) {\n    if (book) {\n        yield put(getChapters(book))\n    }\n\n    yield put(getVerses(book))\n}\n\nfunction* handleChangeChapter({ book, chapter }) {\n    console.log(book, chapter)\n    yield put(getVerses(book, chapter))\n}\n\nfunction* handleSearch() {\n    const selector = formValueSelector('filters')\n    const filtersValues = yield  select((state) => selector(state, 'book', 'chapter', 'search'))\n\n    const { book, chapter, search } = filtersValues\n\n    yield put(getVerses(book, chapter, search))\n}\n\nfunction* handleFormChange(payload) {\n    const formValues = yield select((state) => state.form.filters.values)\n\n    switch(payload.meta.field) {\n        case 'book':\n            yield handleChangeBook(formValues)\n            break\n        case 'chapter':\n            yield handleChangeChapter(formValues)\n            break\n        default:\n            break\n    }\n}","import { createStore as createReduxStore, applyMiddleware, combineReducers } from 'redux'\nimport createSagaMiddleware from 'redux-saga'\nimport { all } from 'redux-saga/effects'\nimport axios from 'axios'\nimport axiosMiddleware from 'redux-axios-middleware'\nimport { reducer as formReducer } from 'redux-form'\n\nimport { reducer as bookReducer } from './book'\nimport { reducer as chapterReducer } from './chapter'\nimport { reducer as verseReducer } from './verse'\nimport { reducer as apiReducer } from './api'\n\nimport { saga as filtersSaga } from './filters'\n\n\nfunction* rootSaga() {\n    yield all([\n        filtersSaga()\n    ])\n}\n\n\nconst rootReducer = combineReducers({\n    books: bookReducer,\n    chapters: chapterReducer,\n    verses: verseReducer,\n    api: apiReducer,\n    form: formReducer\n})\n\nconst client = axios.create({\n    baseURL: process.env.REACT_APP_API_URL,\n    responseType: 'json'\n})\n\nexport default function createStore(reducer, initialState = {}) {\n    const sagaMiddleware = createSagaMiddleware()\n\n    const store = createReduxStore(\n        rootReducer,\n        initialState,\n        applyMiddleware(axiosMiddleware(client), sagaMiddleware)\n    )\n\n    sagaMiddleware.run(rootSaga)\n\n    return store\n}\n","import React from 'react'\nimport { Provider } from 'react-redux'\n\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport createStore from './redux/store'\n\nconst store = createStore({})\nstore.subscribe(() => {\n    console.log(store.getState())\n})\n\nReactDOM.render(\n    <Provider store={store}>\n        <App store={store}/>\n    </Provider>,\n    document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}