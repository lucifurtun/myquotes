{"version":3,"sources":["redux/chapter.js","redux/verse.js","redux/filters.js","components/Search.js","components/Dropdown.js","components/FiltersForm.js","redux/index.js","components/Verse.js","components/InfiniteList.js","redux/book.js","redux/root/versions.js","redux/version.js","redux/api.js","redux/root/ui.js","redux/ui.js","redux/store.js","components/VersionInfos.js","components/Version.js","components/Layout.js","components/Spinner.js","components/VersionsSelector.js","components/Header.js","components/VerseOptions.js","App.js","serviceWorker.js","index.js"],"names":["initialState","data","count","getChapters","bookNumber","type","payload","request","url","params","book_number","page_size","errors","page","hasMore","selected","scrolledTo","getVerses","chapterNumber","search","chapter_number","saga","handleChangeBook","handleChangeChapter","handleSearch","handleFormChange","handleSetFilters","book","chapter","snapshot","takeEvery","put","formChange","take","select","state","filters","filtersValues","formValues","field","value","Search","Component","constructor","props","super","handleKeyPress","e","key","this","onSearch","textInput","current","React","createRef","render","className","onKeyPress","placeholder","style","height","ref","onChange","dispatch","onClick","connect","name","options","preparedValue","isObject","label","styles","clearIndicator","provided","paddingLeft","paddingRight","dropdownIndicator","isClearable","event","books","values","map","item","number","title","chapters","currentBook","stores","html","text","__html","isSelected","text_highlight","preventDefault","identifier","handleOnClick","onContextMenu","x","pageX","y","pageY","verse","root","handleOnContextMenu","tabIndex","marginRight","dangerouslySetInnerHTML","InfiniteList","handleScroll","offset","scroll","verseOptionsDisplayed","isMobile","scrollHeight","document","body","scrollTop","documentElement","window","innerHeight","offsetHeight","element","verseWrapper","isLoading","loadData","verseElements","componentDidMount","onscroll","setState","nextProps","prevState","componentDidUpdate","prevProps","scrollTo","offsetTop","filtersSnapshot","noResultsBookText","noResultsChapterText","noResultsSearchText","noResultsFiltersText","noResultsMessage","onScroll","verses","i","array","index","previousItem","isUndefined","isFirstBookOccurrence","book_title","isFirstChapterOccurrence","length","api","versionOptions","vdcc","short","long","ntr","esv","kjv","addNewVersion","existingItems","newVersionName","version","indexes","existingKeys","keys","v","split","push","toInteger","nextIndex","isEmpty","max","newKey","ordering","id","smartIndex","labelShort","labelLong","addVersion","setVersion","handleSetupVersion","previousVersion","getState","handleRequest","client","axios","create","baseURL","process","responseType","storeName","action","call","response","error","displayVersionIndex","innerWidth","verseOptions","display","handleSetHighlightedElement","highlightedElement","rootSaga","all","filtersSaga","apiSaga","uiSaga","versionSaga","persistConfig","storage","whitelist","rootReducer","combineReducers","versions","newVersionItem","newState","console","log","omit","store","source","sourceOrdering","destination","toLeft","newOrdering","includes","smartIndexMap","ui","has","persistedRootReducer","persistReducer","versionReducer","keyBy","results","isFirstPage","has_more","displayIndex","onRemove","aria-hidden","Version","sagaMiddleware","createSagaMiddleware","createReduxStore","applyMiddleware","run","subscribe","createVersionStore","setupVersion","Provider","isDragDisabled","draggableId","innerRef","draggableProps","dragHandleProps","Layout","handleVersionReorder","result","isNull","cols","layoutClasses","onDragEnd","droppableId","direction","droppableProps","orderBy","Spinner","show","width","viewBox","xmlns","fill","strokeWidth","strokeLinecap","cx","cy","r","buttonStyle","buttonText","DropdownButton","bsStyle","MenuItem","header","eventKey","role","fontSize","target","href","VerseOptions","handleClickOutside","clientHeight","left","top","visibility","content","navigator","clipboard","writeText","onClickOutside","App","setTimeout","getElementById","Boolean","location","hostname","match","createRootStore","persistor","persistStore","ReactDOM","loading","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.6c76d84d.chunk.js","sourcesContent":["const initialState = {\n    data: [],\n    count: null\n}\n\nexport function reducer(state = initialState, action = {}) {\n    switch(action.type) {\n        case 'GET_CHAPTERS_SUCCESS':\n            return {\n                data: action.payload.data.results,\n                count: action.payload.data.count\n            }\n        default:\n            return state\n    }\n}\n\nexport function getChapters(bookNumber) {\n    return {\n        type: 'GET_CHAPTERS',\n        payload: {\n            request: {\n                url: '/chapters/',\n                params: {\n                    book_number: bookNumber,\n                    page_size: 1000\n                }\n            }\n        }\n    }\n}\n","import { keyBy, values } from 'lodash'\n\nconst initialState = {\n    data: [],\n    errors: [],\n    count: null,\n    page: null,\n    hasMore: null,\n    selected: null,\n    scrolledTo: null\n}\n\nfunction isFirstPage(response) {\n    return response.page === 1\n}\n\nexport function reducer(state = initialState, action = {}) {\n    switch (action.type) {\n        case 'GET_VERSES_SUCCESS':\n            let response = action.payload.data\n\n            let data = isFirstPage(response) ? response.results : [...values(state.data), ...response.results]\n\n            return {\n                ...state,\n                data: keyBy(data, 'identifier'),\n                errors: [],\n                count: response.count,\n                page: response.page,\n                hasMore: response.has_more\n            }\n        case 'GET_VERSES_FAIL':\n            return {\n                ...state,\n                errors: action.payload.error.response.data,\n                data: [],\n                count: null,\n                page: null,\n                hasMore: null,\n                selected: null,\n                scrolledTo: null\n            }\n\n        case 'SET_SELECTED_VERSE':\n            return {\n                ...state,\n                selected: action.payload\n            }\n        case 'SET_SCROLLED_TO':\n            return {\n                ...state,\n                scrolledTo: action.payload\n            }\n        default:\n            return state\n    }\n}\n\n\nexport function getVerses(bookNumber, chapterNumber = null, search = null, page = null) {\n    const url = '/verses/'\n\n    return {\n        type: 'GET_VERSES',\n        payload: {\n            request: {\n                url: url,\n                params: {\n                    book_number: bookNumber,\n                    chapter_number: chapterNumber,\n                    search: search,\n                    page: page,\n                    page_size: 100\n                }\n            }\n        }\n    }\n}\n","import { takeEvery, put, select, take } from 'redux-saga/effects'\nimport { getChapters } from './chapter'\nimport { getVerses } from './verse'\n\nconst initialState = {\n    book: null,\n    chapter: null,\n    search: null,\n    snapshot: { book: null, chapter: null, search: null }\n}\n\nexport function reducer(state = initialState, action = {}) {\n    switch(action.type) {\n        case 'FORM_CHANGE':\n            return {\n                ...state,\n                [action.payload.field]: action.payload.value\n            }\n        case 'SET_FILTERS':\n            return {\n                ...state,\n                ...action.payload\n            }\n        case 'SEARCH_FILTERS_SNAPSHOT':\n            return {\n                ...state,\n                snapshot: action.payload\n            }\n\n        default:\n            return state\n    }\n}\n\nexport function* saga() {\n    yield takeEvery('VERSE_SEARCH', handleSearch)\n    yield takeEvery('FORM_CHANGE', handleFormChange)\n    yield takeEvery('SET_FILTERS', handleSetFilters)\n}\n\nfunction* handleChangeBook({ book, search }) {\n    if (book) {\n        yield put(getChapters(book))\n    } else {\n        yield put(formChange('chapter', null))\n    }\n\n    yield put(getVerses(book, null, search))\n    yield take('GET_VERSES_SUCCESS')\n    yield put({type: 'SEARCH_FILTERS_SNAPSHOT', payload: {book, chapter: null, search}})\n}\n\nfunction* handleChangeChapter({ book, chapter, search }) {\n    yield put(getVerses(book, chapter, search))\n    yield take('GET_VERSES_SUCCESS')\n    yield put({type: 'SEARCH_FILTERS_SNAPSHOT', payload: {book, chapter, search}})\n}\n\nfunction* handleSearch() {\n    const filtersValues = yield select((state) => state.filters)\n\n    const { book, chapter, search } = filtersValues\n\n    yield put(getVerses(book, chapter, search, null))\n    yield take(['GET_VERSES_SUCCESS', 'GET_VERSES_FAIL'])\n    yield put({type: 'SEARCH_FILTERS_SNAPSHOT', payload: {book, chapter, search}})\n}\n\nfunction* handleFormChange(payload) {\n    const formValues = yield select((state) => state.filters)\n\n    switch(payload.payload.field) {\n        case 'book':\n            yield handleChangeBook(formValues)\n            break\n        case 'chapter':\n            yield handleChangeChapter(formValues)\n            break\n        default:\n            break\n    }\n}\n\nfunction* handleSetFilters({payload}) {\n    yield handleChangeChapter(payload)\n    if (payload.book) {\n        yield put(getChapters(payload.book))\n    }\n}\n\nexport const formChange = (field, value) => ({\n    type: 'FORM_CHANGE',\n    payload: { field, value }\n})\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { formChange } from '../redux/filters'\n\n\nclass Search extends Component {\n    constructor(props) {\n        super(props)\n        this.textInput = React.createRef()\n    }\n\n    handleKeyPress = (e) => {\n        if (e.key === 'Enter') {\n            this.search()\n        }\n    }\n\n    search = () => {\n        const { onSearch } = this.props\n        let searchValue = this.textInput.current.value\n        onSearch(searchValue)\n    }\n\n    render() {\n        return (\n            <div className=\"input-group\">\n                <input\n                    value={this.props.value}\n                    type=\"text\"\n                    onKeyPress={this.handleKeyPress}\n                    className=\"form-control\"\n                    placeholder=\"Search...\"\n                    style={{ height: '38px' }}\n                    ref={this.textInput}\n                    onChange={() => this.props.dispatch(formChange('search', this.textInput.current.value || null))}\n                />\n                <span className=\"input-group-btn\">\n                <button\n                    onClick={this.search}\n                    className=\"btn btn-default\"\n                    style={{ height: '38px' }}\n                    type=\"button\">Go!\n                </button>\n                </span>\n            </div>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    const value = state.filters.search || ''\n\n    return {\n        value\n    }\n}\n\nexport default connect(mapStateToProps)(Search)\n","import React from 'react'\n\nimport Select from 'react-select'\nimport { connect } from 'react-redux'\nimport { formChange } from '../redux/filters'\nimport { isObject } from 'lodash'\n\nconst DropDown = ({ name, options, placeholder, value, dispatch }) => {\n    let preparedValue = null\n\n    if (isObject(value)) {\n        preparedValue = value || null\n    } else {\n        preparedValue = value ? { value: value, label: value } : null\n    }\n\n    return (\n        <Select\n            styles={{\n                clearIndicator: (provided, state) => ({\n                        ...provided,\n                        paddingLeft: '0',\n                        paddingRight: '0',\n                    }\n                ),\n                dropdownIndicator: (provided, state) => ({\n                        ...provided,\n                        paddingLeft: '0',\n                        paddingRight: '0',\n                    }\n                )\n            }}\n            isClearable\n            options={options}\n            value={preparedValue}\n            placeholder={placeholder}\n            onChange={(event) => dispatch(formChange(name, event ? event.value : null))}\n        />\n    )\n}\n\nexport default connect()(DropDown)\n","import React from 'react'\nimport Search from './Search'\nimport connect from 'react-redux/es/connect/connect'\nimport { values } from 'lodash'\nimport DropDown from './Dropdown'\n\nlet FiltersForm = props => {\n    const { books, book, chapters, chapter, dispatch } = props\n    return (\n        <div>\n            <div className=\"filters-form\">\n                <div className='row'>\n                    <div className='col-sm-5 filter-item'>\n                        <DropDown\n                            name='book'\n                            placeholder='Book'\n                            options={books}\n                            value={book}\n                        />\n                    </div>\n                    <div className='col-sm-3 filter-item'>\n                        <DropDown\n                            name='chapter'\n                            placeholder='Chapter'\n                            options={chapters}\n                            value={chapter}\n                        />\n                    </div>\n                    <div className='col-sm-4 filter-item'>\n                        <Search\n                            onSearch={(value) => dispatch({ type: 'VERSE_SEARCH', payload: value })}\n                        />\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\n\nfunction mapStateToProps(state, props) {\n    const books = values(state.books.data).map((item) => ({\n        value: item.number,\n        label: item.title\n    }))\n    const chapters = values(state.chapters.data).map((item) => ({\n        value: item.number,\n        label: item.number\n    }))\n\n    const currentBook = state.filters.book ? {\n        value: state.filters.book,\n        label: state.books.data[state.filters.book].title\n    } : null\n\n    const currentChapter = state.filters.chapter\n\n    return {\n        books: books,\n        book: currentBook,\n        chapters: currentBook ? chapters : [],\n        chapter: currentChapter\n    }\n}\n\nexport default connect(mapStateToProps)(FiltersForm)\n","export let stores = {}\n","import React from 'react'\nimport { stores } from '../redux'\nimport { connect } from 'react-redux'\n\nconst html = (text) => ({ __html: text })\n\nconst handleOnClick = (event, item, dispatch) => {\n    event.preventDefault()\n    dispatch({ type: 'SET_SELECTED_VERSE', payload: item.identifier })\n}\n\nconst handleOnContextMenu = (event, item, dispatch) => {\n    event.preventDefault()\n    const payload = {\n        x: event.pageX,\n        y: event.pageY,\n        verse: item\n    }\n\n    stores.root.dispatch({ type: 'SHOW_VERSE_OPTIONS', payload: payload })\n    dispatch({ type: 'SET_SELECTED_VERSE', payload: item.identifier })\n}\n\nconst Verse = ({ item, isSelected, dispatch }) => {\n    const text = item.text_highlight ? item.text_highlight : item.text\n\n    return (\n        <div\n            onClick={ (event) => handleOnClick(event, item, dispatch) }\n            onContextMenu={ (event) => handleOnContextMenu(event, item, dispatch) }\n            tabIndex={ 0 }\n            className={ 'verse' + (isSelected ? ' selected' : '') }\n        >\n            <span className=\"verse-number\" style={ { marginRight: '2px' } }>{ item.number }.</span>\n            <span className=\"verse-text\" dangerouslySetInnerHTML={ html(text) }/>\n        </div>\n    )\n}\n\nexport default connect()(Verse)\n","import React, { Component } from 'react'\nimport Verse from './Verse'\nimport { connect } from 'react-redux'\nimport { getVerses } from '../redux/verse'\nimport { isUndefined, values } from 'lodash'\nimport { stores } from '../redux'\n\nfunction isFirstChapterOccurrence(item, index, array) {\n    const previousItem = array[index - 1]\n    if (isUndefined(previousItem)) {\n        return true\n    }\n\n    return previousItem.chapter_number !== item.chapter_number\n}\n\nfunction isFirstBookOccurrence(item, index, array) {\n    const previousItem = array[index - 1]\n    if (isUndefined(previousItem)) {\n        return true\n    }\n\n    return previousItem.book_number !== item.book_number\n}\n\nclass InfiniteList extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            isLoading: false\n        }\n\n        this.verseWrapper = React.createRef()\n        this.verseElements = {}\n    }\n\n    componentDidMount() {\n        window.onscroll = () => {\n            this.handleScroll()\n        }\n    }\n\n    handleScroll = (event) => {\n        let offset, scroll\n\n        if (this.props.verseOptionsDisplayed) {\n            stores.root.dispatch({ type: 'HIDE_VERSE_OPTIONS' })\n        }\n\n        if (this.props.isMobile === true) {\n            let scrollHeight = document.body.scrollTop || document.documentElement.scrollTop\n            scroll = window.innerHeight + scrollHeight\n            offset = document.documentElement.offsetHeight\n        } else {\n            let element = this.verseWrapper.current\n            let scrollHeight = element.scrollTop\n            scroll = element.offsetHeight + scrollHeight\n            offset = element.scrollHeight\n        }\n\n        if (scroll >= offset - 550) {\n            if (!this.state.isLoading) {\n                this.loadData()\n            }\n        }\n    }\n\n    loadData() {\n        const { dispatch, filters, page, hasMore } = this.props\n\n        if (hasMore) {\n            this.setState({ isLoading: true })\n            dispatch(getVerses(filters.book, filters.chapter, filters.search, page ? page + 1 : page))\n        }\n    }\n\n    static getDerivedStateFromProps(nextProps, prevState) {\n        if (nextProps.isLoading !== prevState.isLoading) {\n            if (nextProps.isLoading === false) {\n                return { isLoading: false }\n            }\n        }\n\n        return null\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.scrolledTo && (this.props.scrolledTo !== prevProps.scrolledTo)) {\n            this.verseWrapper.current.scrollTo(0, this.verseElements[this.props.scrolledTo].offsetTop)\n        }\n    }\n\n    render() {\n        const { filtersSnapshot, books } = this.props\n\n        const noResultsBookText = filtersSnapshot.book ? <span> in <i>{books[filtersSnapshot.book].title}</i></span> : ''\n        const noResultsChapterText = filtersSnapshot.chapter ? <i> {filtersSnapshot.chapter}</i> : ''\n        const noResultsSearchText = filtersSnapshot.search ? <span>for \"{filtersSnapshot.search}\"</span> : ''\n        const noResultsFiltersText = <span>{noResultsSearchText}{noResultsBookText}{noResultsChapterText}</span>\n\n        const noResultsMessage = <span>No results {noResultsFiltersText}</span>\n\n        return (\n            <div ref={this.verseWrapper} className=\"verses-wrapper\" onScroll={this.handleScroll}>\n                {this.props.verses.map(\n                    (item, i, array) => {\n                        const isSelected = item.identifier === this.props.selected\n                        return (\n                            <div ref={(element) => this.verseElements[item.identifier] = element} key={i}>\n                                {\n                                    isFirstBookOccurrence(item, i, array) &&\n                                    <h2 className=\"verse-book\">{item.book_title}</h2>\n                                }\n                                {\n                                    isFirstChapterOccurrence(item, i, array) &&\n                                    <h3 className=\"verse-chapter\">{item.chapter_number}</h3>\n                                }\n                                <Verse item={item} isSelected={isSelected}/>\n                            </div>\n                        )\n                    }\n                )}\n\n                {\n                    this.props.errors &&\n                    <h4 className=\"no-results\">{this.props.errors}</h4>\n                }\n\n                {\n                    !this.props.verses.length && !this.props.errors.length &&\n                    <h4 className=\"no-results\">{noResultsMessage}.</h4>\n                }\n            </div>\n        )\n    }\n}\n\n\nfunction mapStateToProps(state) {\n    const errors = values(state.verses.errors)\n    const verses = values(state.verses.data)\n    const books = state.books.data\n    const page = state.verses.page\n    const hasMore = state.verses.hasMore\n    const selected = state.verses.selected\n    const scrolledTo = state.verses.scrolledTo\n    const isLoading = state.api.isLoading\n    const filters = state.filters\n    const filtersSnapshot = state.filters.snapshot\n\n    return {\n        errors,\n        verses,\n        books,\n        page,\n        hasMore,\n        selected,\n        scrolledTo,\n        isLoading,\n        filters,\n        filtersSnapshot\n    }\n}\n\nexport default connect(mapStateToProps)(InfiniteList)\n","import { keyBy } from 'lodash'\n\nconst initialState = {\n    data: [],\n    count: null\n}\n\nexport function reducer(state = initialState, action = {}) {\n    switch(action.type) {\n        case 'GET_BOOKS_SUCCESS':\n            return {\n                data: keyBy(action.payload.data.results, 'number'),\n                count: action.payload.data.count\n            }\n        default:\n            return state\n    }\n}\n\nexport function getBooks() {\n    return {\n        type: 'GET_BOOKS',\n        payload: {\n            request: {\n                url: '/books/',\n                params: {\n                    page_size: 1000\n                }\n            }\n        }\n    }\n}\n","import { isEmpty, keys, max, omit, split, toInteger, includes, values } from 'lodash'\nimport { stores } from '..'\n\nconst versionOptions = {\n    vdcc: {\n        short: 'VDCC',\n        long: 'Versiunea Dumitru Cornilescu Corectată'\n    },\n    ntr: {\n        short: 'NTR',\n        long: 'Noua Traducere Românească'\n    },\n    esv: {\n        short: 'ESV',\n        long: 'English Standard Version'\n    },\n    kjv: {\n        short: 'KJV',\n        long: 'King James Version'\n    }\n}\n\nfunction addNewVersion(existingItems, newVersionName) {\n    let version, index\n\n    let indexes = []\n    const existingKeys = keys(existingItems)\n\n    for (let v of existingKeys) {\n        [version, index] = split(v, '__')\n\n        if (version === newVersionName) {\n            indexes.push(toInteger(index))\n        }\n    }\n\n    const nextIndex = isEmpty(indexes) ? 1 : max(indexes) + 1\n    const newKey = `${newVersionName}__${nextIndex}`\n\n    return {\n        [newKey]: {\n            ordering: existingKeys.length + 1,\n            id: newKey,\n            name: newVersionName,\n            index: nextIndex,\n            smartIndex: null,\n            labelShort: versionOptions[newVersionName].short,\n            labelLong: versionOptions[newVersionName].long\n        }\n    }\n}\n\n\nconst initialState = { ...addNewVersion({}, 'vdcc') }\n\n\nexport function reducer(state = initialState, action = {}) {\n    let newVersionName, newVersionItem\n    let newState\n\n    console.log(state, action)\n\n    switch(action.type) {\n        case 'ADD_VERSION':\n            newVersionName = action.payload\n            newVersionItem = addNewVersion(state, newVersionName)\n\n            newState = { ...state, ...newVersionItem }\n            break\n\n        case 'REMOVE_VERSION':\n            delete stores[action.payload]\n            newState = omit(state, action.payload)\n            break\n\n        case 'SET_VERSION':\n            for (let store in keys(stores)) {\n                delete stores[store]\n            }\n\n            newVersionName = action.payload\n            newVersionItem = addNewVersion(state, newVersionName)\n\n            newState = { ...newVersionItem }\n            break\n\n        case 'REORDER_VERSIONS':\n            const source = action.payload.source\n            const sourceOrdering = state[source].ordering\n            const destination = action.payload.destination\n            const destinationOrdering = state[destination].ordering\n\n            const toLeft = sourceOrdering > destinationOrdering\n\n            newState = {...state}\n            const newOrdering = newState[destination].ordering\n\n            for (let item of values(newState)) {\n                if (toLeft) {\n                    if (newState[item.id].ordering >= newState[destination].ordering) {\n                        newState[item.id].ordering++\n                    }\n                } else {\n                    if (newState[item.id].ordering <= newState[destination].ordering) {\n                        newState[item.id].ordering--\n                    }\n                }\n            }\n\n            newState[source].ordering = newOrdering\n            break\n\n        default:\n            newState = state\n            break\n    }\n\n    if (includes(['ADD_VERSION', 'REMOVE_VERSION', 'SET_VERSION', 'persist/REHYDRATE'], action.type)) {\n        let smartIndexMap = {}\n        for (let version of values(newState)) {\n            smartIndexMap[version.name] = 0\n        }\n\n        for (let version of values(newState)) {\n            version.smartIndex = ++smartIndexMap[version.name]\n        }\n    }\n\n\n    return newState\n}\n\nexport function addVersion(version) {\n    return ({\n        type: 'ADD_VERSION',\n        payload: version\n    })\n}\n\nexport function removeVersion(version) {\n    return ({\n        type: 'REMOVE_VERSION',\n        payload: version\n    })\n}\n\nexport function setVersion(version) {\n    return ({\n        type: 'SET_VERSION',\n        payload: version\n    })\n}\n","import { put, take, takeEvery } from 'redux-saga/effects'\nimport { getBooks } from './book'\nimport { getVerses } from './verse'\nimport { stores } from './index'\nimport { setVersion } from './root/versions'\n\nexport function reducer(state = {}, action = {}) {\n    switch(action.type) {\n        case 'SET_VERSION':\n            return action.payload\n        default:\n            return state\n    }\n}\n\nexport function setupVersion({version, previousVersion}) {\n    return {\n        type: 'SETUP_VERSION',\n        payload: {version, previousVersion}\n    }\n}\n\nfunction* handleSetupVersion({payload}) {\n    yield put(setVersion(payload.version))\n    yield put(getBooks())\n\n    if(payload.previousVersion) {\n        yield take(['GET_BOOKS_SUCCESS'])\n\n        let filters = stores[payload.previousVersion.id].getState().filters\n        filters.search = null\n        filters.snapshot.search = null\n\n        yield put({ type: 'SET_FILTERS', payload: filters })\n    }\n    else {\n        yield put(getVerses())\n    }\n}\n\nexport function* saga() {\n    yield takeEvery('SETUP_VERSION', handleSetupVersion)\n}","import { has, split } from 'lodash'\nimport { call, takeEvery, put } from 'redux-saga/effects'\nimport axios from 'axios'\n\nconst initialState = {\n    isLoading: false\n}\n\nexport function reducer(state = initialState, action = {}) {\n    if (has(action.payload, 'request')) {\n        if (has(action.payload, 'status')) {\n            return {\n                isLoading: false\n            }\n        } else {\n            return {\n                isLoading: true\n            }\n        }\n    }\n\n    if (has(action, 'error')) {\n        return {\n            isLoading: false\n        }\n    }\n\n    return state\n}\n\nexport const SUCCESS_SUFFIX = '_SUCCESS'\nexport const ERROR_SUFFIX = '_FAIL'\n\nconst client = axios.create({\n    baseURL: process.env.REACT_APP_API_URL,\n    responseType: 'json'\n})\n\nfunction* handleRequest(storeName, action) {\n    const { type, payload: { request } } = action\n    const [version] = split(storeName, '__')\n\n    const url = request.url + `${version}/`\n\n    try {\n        const response = yield call(client, url, { params: request.params })\n        yield put({ type: type + SUCCESS_SUFFIX, payload: response })\n    } catch (errorResponse) {\n        yield put({ type: type + ERROR_SUFFIX, payload: { error: errorResponse } })\n    }\n}\n\nexport function* saga(storeName) {\n    yield takeEvery(['GET_VERSES', 'GET_BOOKS', 'GET_CHAPTERS'], handleRequest, storeName)\n}\n","import { has } from 'lodash'\n\nconst initialState = {\n    displayVersionIndex: false,\n    isLoading: false,\n    isMobile: window.innerWidth < 768,\n    verseOptions: {\n        display: false,\n        x: 0,\n        y: 0\n    }\n}\n\nexport function reducer(state = initialState, action = {}) {\n    if (has(action.payload, 'request')) {\n        if (has(action.payload, 'status')) {\n            return {\n                ...state,\n                isLoading: false\n            }\n        } else {\n            return {\n                ...state,\n                isLoading: true\n            }\n        }\n    }\n\n    if (has(action, 'error')) {\n        return {\n            ...state,\n            isLoading: false\n        }\n    }\n\n    switch(action.type) {\n        case 'SHOW_VERSE_OPTIONS':\n            return {\n                ...state,\n                verseOptions: {\n                    display: true,\n                    ...action.payload\n                }\n            }\n        case 'HIDE_VERSE_OPTIONS':\n            return {\n                ...state,\n                verseOptions: {\n                    display: false,\n                    ...action.payload\n                }\n            }\n        default:\n            return state\n    }\n}\n","import { put, take, takeEvery } from 'redux-saga/effects'\n\nconst initialState = {\n    highlightedElement: null\n}\n\n\nexport function reducer(state = initialState, action = {}) {\n    switch(action.type) {\n        case 'SET_HIGHLIGHTED_ELEMENT':\n            return {\n                ...state,\n                highlightedElement: action.payload\n            }\n        default:\n            return state\n    }\n}\n\n\nfunction* handleSetHighlightedElement(payload) {\n    const verse = payload.payload\n    const filters = { book: verse.book_number, chapter: verse.chapter_number, search: null }\n\n    yield put({ type: 'SET_FILTERS', payload: filters })\n    yield take('GET_VERSES_SUCCESS')\n    yield put({ type: 'SET_SELECTED_VERSE', payload: verse.identifier })\n    yield put({ type: 'SET_SCROLLED_TO', payload: verse.identifier })\n}\n\nexport function* saga() {\n    yield takeEvery('SET_HIGHLIGHTED_ELEMENT', handleSetHighlightedElement)\n}","import { createStore as createReduxStore, applyMiddleware, combineReducers } from 'redux'\nimport createSagaMiddleware from 'redux-saga'\nimport { all } from 'redux-saga/effects'\n\nimport storage from 'redux-persist/lib/storage'\nimport { persistReducer } from 'redux-persist'\n\nimport { reducer as bookReducer } from './book'\nimport { reducer as chapterReducer } from './chapter'\nimport { reducer as verseReducer } from './verse'\nimport { reducer as versionsReducer } from './root/versions'\nimport { reducer as currentVersionReducer } from './version'\nimport { reducer as apiReducer } from './api'\nimport { reducer as uiReducer } from './root/ui'\nimport { reducer as uiVersionReducer } from './ui'\nimport { reducer as filtersReducer } from './filters'\n\nimport { stores } from './index'\n\nimport { saga as filtersSaga } from './filters'\nimport { saga as apiSaga } from './api'\nimport { saga as uiSaga } from './ui'\nimport { saga as versionSaga } from './version'\n\n\nfunction* rootSaga(name) {\n    yield all([\n        filtersSaga(name),\n        apiSaga(name),\n        uiSaga(),\n        versionSaga()\n    ])\n}\n\nconst persistConfig = {\n    key: 'cache',\n    storage,\n    whitelist: ['versions']\n}\n\n\nconst rootReducer = combineReducers({\n    versions: versionsReducer,\n    ui: uiReducer,\n})\n\nconst persistedRootReducer = persistReducer(persistConfig, rootReducer)\n\nconst versionReducer = combineReducers({\n    books: bookReducer,\n    chapters: chapterReducer,\n    verses: verseReducer,\n    filters: filtersReducer,\n    api: apiReducer,\n    version: currentVersionReducer,\n    ui: uiVersionReducer,\n})\n\n\nexport function createRootStore(initialState = {}) {\n    const sagaMiddleware = createSagaMiddleware()\n\n    const store = createReduxStore(\n        persistedRootReducer,\n        initialState,\n        applyMiddleware(sagaMiddleware)\n    )\n\n    sagaMiddleware.run(rootSaga)\n\n    const name = 'root'\n\n    stores[name] = store\n    store.subscribe(() => {\n        console.log(name, store.getState())\n    })\n\n    return store\n}\n\nexport function createVersionStore(name, initialState = {}) {\n    const sagaMiddleware = createSagaMiddleware()\n\n    const store = createReduxStore(\n        versionReducer,\n        initialState,\n        applyMiddleware(sagaMiddleware)\n    )\n\n    sagaMiddleware.run(rootSaga, name)\n\n    stores[name] = store\n    store.subscribe(() => {\n        console.log(name, store.getState())\n    })\n\n    return store\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nconst VersionInfos = ({ displayIndex, isMobile, onRemove, version}) => {\n    return (\n        <div className=\"infos-wrapper\">\n            {\n                !isMobile &&\n                <button onClick={ onRemove } className=\"close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            }\n            { displayIndex && <span>[{ version.smartIndex }]</span> }\n            <span> { version.labelShort }  {!isMobile && <span>({ version.labelLong })</span>}</span>\n        </div>\n    )\n}\n\nfunction mapStateToProps(state) {\n    const version = state.version\n    return {\n        version\n    }\n}\n\nexport default connect(mapStateToProps)(VersionInfos)\n","import React, { Component } from 'react'\nimport FiltersForm from './FiltersForm'\nimport InfiniteList from './InfiniteList'\nimport Provider from 'react-redux/es/components/Provider'\nimport { createVersionStore } from '../redux/store'\nimport { removeVersion } from '../redux/root/versions'\nimport { connect } from 'react-redux'\nimport { has, keys } from 'lodash'\nimport VersionInfos from './VersionInfos'\nimport { Draggable } from 'react-beautiful-dnd'\nimport { stores } from '../redux'\nimport { setupVersion } from '../redux/version'\n\n\nclass Version extends Component {\n    constructor(props) {\n        super(props)\n\n        if (has(stores, this.props.version.id)) {\n            this.store = stores[this.props.version.id]\n        } else {\n            const store = createVersionStore(this.props.version.id)\n            store.dispatch(setupVersion(this.props))\n\n            this.store = store\n        }\n    }\n\n    render() {\n        return (\n            <Provider store={this.store}>\n                <Draggable\n                    isDragDisabled={this.props.isDragDisabled}\n                    draggableId={this.props.version.id}\n                    index={this.props.index}\n                >\n                    {(provided, snapshot) => (\n                        <div className=\"panel panel-default\" ref={provided.innerRef} {...provided.draggableProps}>\n                            <div className=\"version-controls panel-heading\" {...provided.dragHandleProps}>\n                                <VersionInfos\n                                    displayIndex={true} isMobile={this.props.isMobile}\n                                    onRemove={() => this.props.dispatch(removeVersion(this.props.version.id))}\n                                />\n\n                            </div>\n                            <div className='panel-body'>\n                                <FiltersForm/>\n                                <InfiniteList\n                                    isMobile={this.props.isMobile}\n                                    verseOptionsDisplayed={this.props.verseOptionsDisplayed}\n                                />\n                            </div>\n                        </div>\n                    )}\n                </Draggable>\n            </Provider>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    const isMobile = state.ui.isMobile\n    const verseOptionsDisplayed = state.ui.verseOptions.display\n    const isDragDisabled = keys(state.versions).length === 1\n\n    return {\n        isMobile,\n        verseOptionsDisplayed,\n        isDragDisabled\n    }\n}\n\nexport default connect(mapStateToProps)(Version)\n","import React from 'react'\nimport connect from 'react-redux/es/connect/connect'\nimport { values, toInteger, orderBy, isNull } from 'lodash'\nimport Version from './Version'\nimport { DragDropContext, Droppable } from 'react-beautiful-dnd'\n\n\nclass Layout extends React.Component {\n    handleVersionReorder = (result) => {\n        if (isNull(result.destination)) {\n            return\n        }\n\n        const source = this.props.versions[result.source.index]\n        const destination = this.props.versions[result.destination.index]\n        const payload = {\n            source: source.id,\n            destination: destination.id\n        }\n        this.props.dispatch({ type: 'REORDER_VERSIONS', payload: payload })\n    }\n\n    render() {\n        const cols = toInteger(12 / this.props.versions.length)\n        const layoutClasses = 'col-lg-' + cols + ' col-md-' + cols + ' col-sm-' + cols\n\n        return (\n            <DragDropContext onDragEnd={this.handleVersionReorder}>\n                <Droppable droppableId=\"droppable\" direction=\"horizontal\">\n                    {\n                        (provided, snapshot) => (\n                            <div\n                                className='translation-wrapper clearfix'\n                                style={{ display: 'flex' }}\n                                ref={provided.innerRef}\n                                {...provided.droppableProps}\n                            >\n                                {this.props.versions.map((item, index, array) => (\n                                    <div key={index} className={'translation ' + layoutClasses}>\n                                        <Version\n                                            index={index}\n                                            provided={provided}\n                                            key={item.id}\n                                            version={item}\n                                            previousVersion={array[index-1] ? array[index-1] : null}\n                                            smartIndex={item.smartIndex}\n                                        />\n                                    </div>\n                                ))}\n\n                                {!this.props.versions.length &&\n                                <h4 className=\"no-results\">No version selected. Please select one!</h4>}\n                            </div>\n                        )\n                    }\n                </Droppable>\n            </DragDropContext>\n        )\n    }\n}\n\n\nfunction mapStateToProps(state) {\n    const versions = orderBy(values(state.versions), ['ordering', 'asc'])\n\n    return {\n        versions\n    }\n}\n\nexport default connect(mapStateToProps)(Layout)\n","import React from 'react'\n\nconst Spinner = ({show}) => {\n    if (!show) {\n        return null\n    }\n\n    return (\n        <div className=\"spinner\">\n            <svg width=\"30px\" height=\"30px\" viewBox=\"0 0 66 66\" xmlns=\"http://www.w3.org/2000/svg\">\n                <circle fill=\"none\" strokeWidth=\"5\" strokeLinecap=\"round\" cx=\"33\" cy=\"33\" r=\"30\" className=\"circle\"/>\n            </svg>\n        </div>\n    )\n}\n\nexport default Spinner\n","import React from 'react'\nimport connect from 'react-redux/es/connect/connect'\nimport { values } from 'lodash'\nimport { addVersion, setVersion } from '../redux/root/versions'\nimport { DropdownButton, MenuItem } from 'react-bootstrap'\n\nconst VersionsSelector = ({ versions, isMobile, dispatch }) => {\n    let action, buttonStyle, buttonText\n\n    if (isMobile) {\n        action = setVersion\n        buttonStyle = 'primary'\n        buttonText = 'Set Version'\n    } else {\n        action = addVersion\n        buttonStyle = 'success'\n        buttonText = 'Add Version'\n    }\n\n    return (\n        <div className=\"version-selector-wrapper\">\n            <DropdownButton bsStyle={buttonStyle} title={buttonText} id='add-version-dropdown'>\n                <MenuItem header><span className=\"flag-icon flag-icon-ro\"/> Romanian</MenuItem>\n                <MenuItem onClick={() => dispatch(action('vdcc'))} eventKey=\"1\">\n                    VDCC\n                </MenuItem>\n                <MenuItem onClick={() => dispatch(action('ntr'))} eventKey=\"2\">\n                    NTR\n                </MenuItem>\n                <MenuItem header><span className=\"flag-icon flag-icon-gb\"/> English</MenuItem>\n                <MenuItem onClick={() => dispatch(action('esv'))} eventKey=\"3\">\n                    ESV\n                </MenuItem>\n                <MenuItem onClick={() => dispatch(action('kjv'))} eventKey=\"3\">\n                    KJV\n                </MenuItem>\n            </DropdownButton>\n        </div>\n    )\n}\n\nfunction mapStateToProps(state) {\n    const versions = values(state.versions).map((item) => ({ value: item, label: item }))\n    const isMobile = state.ui.isMobile\n\n    return {\n        versions,\n        isMobile\n    }\n}\n\nexport default connect(mapStateToProps)(VersionsSelector)\n","import React from 'react'\nimport connect from 'react-redux/es/connect/connect'\nimport Spinner from './Spinner'\nimport VersionsSelector from './VersionsSelector'\n\nconst Header = ({ isLoading, isMobile }) => {\n    return (\n        <nav className=\"navbar navbar-default navbar-static-top\" role=\"navigation\">\n            <a style={{ fontSize: '20px' }}\n               className=\"navbar-brand\"\n               target=\"_self\"\n               href={process.env.PUBLIC_URL}\n            >\n                Bible\n            </a>\n            <VersionsSelector/>\n            <Spinner show={isLoading}/>\n        </nav>\n    )\n}\n\nfunction mapStateToProps(state) {\n    const isLoading = state.ui.isLoading\n\n    return {\n        isLoading\n    }\n}\n\nexport default connect(mapStateToProps)(Header)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { orderBy, values } from 'lodash'\nimport { stores } from '../redux'\nimport onClickOutside from 'react-onclickoutside'\n\n\nclass VerseOptions extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.element = React.createRef()\n        this.height = null\n    }\n\n    handleClickOutside() {\n        this.props.dispatch({ type: 'HIDE_VERSE_OPTIONS' })\n    }\n\n    componentDidMount() {\n        this.height = this.element.current.clientHeight\n    }\n\n    componentDidUpdate() {\n        this.height = this.element.current.clientHeight\n    }\n\n    render() {\n        const verse = this.props.options.verse\n\n        return (\n            <ul ref={this.element} id=\"verse-options\" className=\"dropdown-menu\" style={{\n                left: `${this.props.options.x}px`,\n                top: `${this.props.options.y - this.height}px`,\n                visibility: this.props.options.display ? 'initial' : 'hidden'\n            }}\n            >\n                <li onClick={(event) => {\n                    event.preventDefault()\n                    const content = `[${verse.book_title} ${verse.chapter_number}:${verse.number}] ${verse.text}`\n\n                    navigator.clipboard.writeText(content)\n                    stores.root.dispatch({ type: 'HIDE_VERSE_OPTIONS' })\n                }}\n                >\n                    <a href=\"#\">Copy</a>\n                </li>\n                <li role=\"separator\" className=\"divider\"/>\n                {\n                    this.props.versions.map((version, i) => (\n                        <li key={i}\n                            onClick={(event) => {\n                                event.preventDefault()\n                                const store = stores[version.id]\n                                store.dispatch({ type: 'SET_HIGHLIGHTED_ELEMENT', payload: verse })\n                            }}\n                        >\n                            <a href=\"#\">Open in {version.labelShort} [{version.smartIndex}]</a>\n                        </li>\n                    ))\n                }\n            </ul>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        options: state.ui.verseOptions,\n        versions: orderBy(values(state.versions), ['ordering', 'asc'])\n    }\n}\n\nexport default connect(mapStateToProps)(onClickOutside(VerseOptions))\n","import React, { Component } from 'react'\n\nimport './App.css'\nimport Layout from './components/Layout'\nimport Header from './components/Header'\nimport VerseOptions from './components/VerseOptions'\n\nclass App extends Component {\n    componentDidMount() {\n        setTimeout(() => document.getElementById('loader').style.display = 'none', 250)\n    }\n\n    render() {\n        return (\n            <div>\n                <Header/>\n                <VerseOptions/>\n                <div id=\"page-wrapper\">\n                    <div className=\"row\">\n                        <div id=\"content-wrapper\" className=\"clearfix\">\n                            <div className=\"App clearfix\">\n                                <Layout/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport { Provider } from 'react-redux'\nimport { persistStore } from 'redux-persist'\nimport { PersistGate } from 'redux-persist/integration/react'\n\n\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport { createRootStore } from './redux/store'\n\nconst store = createRootStore()\nconst persistor = persistStore(store)\n\nReactDOM.render(\n    <Provider store={store}>\n        <PersistGate loading={null} persistor={persistor}>\n            <App store={store}/>\n        </PersistGate>\n    </Provider>,\n    document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}