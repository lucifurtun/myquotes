(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{50:function(e,t,a){e.exports=a(92)},59:function(e,t,a){},61:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(12),s=a(13),o=a.n(s),l=(a(59),a(14)),u=a(15),i=a(17),p=a(16),d=a(18),h=(a(61),a(25)),v=a(8),m=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(p.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"===e.key&&a.search()},a.search=function(){(0,a.props.onSearch)(a.textInput.current.value)},a.textInput=r.a.createRef(),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",onKeyPress:this.handleKeyPress,className:"form-control",placeholder:"Search...",style:{height:"38px"},ref:this.textInput}),r.a.createElement("span",{className:"input-group-btn"},r.a.createElement("button",{onClick:this.search,className:"btn btn-default",style:{height:"38px"},type:"button"},"Go!")))}}]),t}(n.Component);var b=Object(c.b)(function(e){var t=e.filters.book?{value:e.filters.book,label:e.filters.book}:null,a=e.filters.chapter?{value:e.filters.chapter,label:e.filters.chapter}:null,n=e.filters.verse?{value:e.filters.verse,label:e.filters.verse}:null,r=Object(v.values)(e.books.data).map(function(e){return{value:e.title,label:e.title}}),c=Object(v.values)(e.chapters.data).map(function(e){return{value:e.number,label:e.number}}),s=Object(v.values)(e.verses.data).map(function(e){return{value:e.number,label:e.number}});return{book:{value:t,options:r},chapter:{value:a,options:t?c:[]},verse:{value:n,options:a?s:[]}}})(function(e){var t=e.book,a=e.chapter,n=e.verse,c=e.dispatch;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-2",style:{margin:"5px"}},r.a.createElement(h.a,{placeholder:"Book",isClearable:!0,options:t.options,value:t.value,onChange:function(e){return c({type:"CHANGE_BOOK",payload:e?e.value:null})}})),r.a.createElement("div",{className:"col-sm-2",style:{margin:"5px"}},r.a.createElement(h.a,{placeholder:"Chapter",isClearable:!0,options:a.options,value:a.value,onChange:function(e){return c({type:"CHANGE_CHAPTER",payload:e?e.value:null})}})),r.a.createElement("div",{className:"col-sm-2",style:{margin:"5px"}},r.a.createElement(h.a,{placeholder:"Verse",isClearable:!0,options:n.options,value:n.value,onChange:function(e){return c({type:"CHANGE_VERSE",payload:e?e.value:null})}})),r.a.createElement("div",{className:"col-sm-3",style:{margin:"5px"}},r.a.createElement(m,{onSearch:function(e){return c({type:"CHANGE_SEARCH",payload:e})}})))}),f=function(e){var t=e.number,a=e.text;return r.a.createElement("div",{className:"verse"},r.a.createElement("span",{className:"verse-number",style:{marginRight:"2px"}},t,"."),r.a.createElement("span",{className:"verse-text"},a))},E=a(29),y={data:[],count:null};function O(e,t){return{type:"GET_VERSES",payload:{request:{url:"/verses/",params:{book_title:e,chapter_number:t,search:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,page:arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,page_size:100}}}}}var g=function(e){function t(e){var a;return Object(l.a)(this,t),a=Object(i.a)(this,Object(p.a)(t).call(this,e)),window.onscroll=function(){var e=document.body.scrollTop||document.documentElement.scrollTop;window.innerHeight+e===document.documentElement.offsetHeight&&a.loadData()},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"loadData",value:function(){var e=this.props,t=e.dispatch,a=e.filters,n=e.page;e.hasMore&&t(O(a.book,a.chapter,a.search,n?n+1:n))}},{key:"render",value:function(){return r.a.createElement("div",{className:"verses-wrapper"},this.props.verses.map(function(e,t,a){return r.a.createElement("div",{key:t},function(e,t,a){var n=a[t-1];return!!Object(v.isUndefined)(n)||n.book_title!==e.book_title}(e,t,a)&&r.a.createElement("h2",null,e.book_title),function(e,t,a){var n=a[t-1];return!!Object(v.isUndefined)(n)||n.chapter_number!==e.chapter_number}(e,t,a)&&r.a.createElement("h3",null,e.chapter_number),r.a.createElement(f,{key:t,number:e.number,text:e.text}))}),!this.props.verses.length&&r.a.createElement("h4",{className:"no-results"},"No results..."))}}]),t}(n.Component);var j=Object(c.b)(function(e){var t=e.verses.data,a=e.verses.page,n=e.verses.hasMore,r=e.filters;return{verses:t,chapters:Object(v.groupBy)(t,function(e){return e.chapter_number}),page:a,hasMore:n,filters:r}})(g),w=function(){return r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement(j,null))},x={data:[],count:null};var k=function(e){return e.show?r.a.createElement("div",{className:"spinner"},r.a.createElement("svg",{width:"30px",height:"30px",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("circle",{fill:"none",strokeWidth:"5",strokeLinecap:"round",cx:"33",cy:"33",r:"30",className:"circle"}))):null},C=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;setTimeout(function(){return document.getElementById("loader").style.display="none"},250),e({type:"GET_BOOKS",payload:{request:{url:"/books/",params:{page_size:1e3}}}}),e(O())}},{key:"render",value:function(){return r.a.createElement("div",{id:"page-wrapper"},r.a.createElement("div",{className:"row page-header-row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("h2",{className:"page-header"},"Bible"),r.a.createElement(k,{show:this.props.isLoading}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{id:"content-wrapper"},r.a.createElement("div",{className:"App"},r.a.createElement(w,null)))))}}]),t}(n.Component);var _=Object(c.b)(function(e){return{isLoading:e.api.isLoading}})(C);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=a(9),S=a.n(N),H=a(19),A=a(48),G=a(5),R=a(46),T=a.n(R),B=a(47),L=a.n(B),P={data:[],count:null};var K=a(21),V=S.a.mark(z),U=S.a.mark(D),I=S.a.mark(W),M=S.a.mark(J),q={book:null,chapter:null,verse:null,search:null};function z(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.d)("CHANGE_BOOK",D);case 2:return e.next=4,Object(G.d)("CHANGE_CHAPTER",W);case 4:return e.next=6,Object(G.d)("CHANGE_SEARCH",J);case 6:case"end":return e.stop()}},V,this)}function D(){var e;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(G.c)(function(e){return e.filters.book});case 2:return e=t.sent,t.next=5,Object(G.b)({type:"CHANGE_CHAPTER",payload:null});case 5:if(!e){t.next=8;break}return t.next=8,Object(G.b)({type:"GET_CHAPTERS",payload:{request:{url:"/chapters/",params:{book_title:e,page_size:1e3}}}});case 8:case"end":return t.stop()}},U,this)}function W(){var e,t,a;return S.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(G.c)(function(e){return e.filters.book});case 2:return e=n.sent,n.next=5,Object(G.c)(function(e){return e.filters.chapter});case 5:return t=n.sent,n.next=8,Object(G.c)(function(e){return e.filters.search});case 8:return a=n.sent,n.next=11,Object(G.b)({type:"CHANGE_VERSE",payload:null});case 11:return n.next=13,Object(G.b)(O(e,t,a));case 13:case"end":return n.stop()}},I,this)}function J(){var e,t,a;return S.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(G.c)(function(e){return e.filters.book});case 2:return e=n.sent,n.next=5,Object(G.c)(function(e){return e.filters.chapter});case 5:return t=n.sent,n.next=8,Object(G.c)(function(e){return e.filters.search});case 8:return a=n.sent,n.next=11,Object(G.b)(O(e,t,a));case 11:case"end":return n.stop()}},M,this)}var $={isLoading:!1,isVisible:!1};var F=S.a.mark(Q);function Q(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.a)([z()]);case 2:case"end":return e.stop()}},F,this)}var X=Object(H.c)({books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"GET_BOOKS_SUCCESS":return{data:t.payload.data.results,count:t.payload.data.count};default:return e}},chapters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"GET_CHAPTERS_SUCCESS":return{data:t.payload.data.results,count:t.payload.data.count};default:return e}},verses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"GET_VERSES_SUCCESS":var a=t.payload.data;return{data:function(e){return 1===e.page}(a)?a.results:Object(E.a)(e.data).concat(Object(E.a)(a.results)),count:a.count,page:a.page,hasMore:a.has_more};default:return e}},filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"CHANGE_BOOK":return Object(K.a)({},e,{book:t.payload});case"CHANGE_CHAPTER":return Object(K.a)({},e,{chapter:t.payload});case"CHANGE_VERSE":return Object(K.a)({},e,{verse:t.payload});case"CHANGE_SEARCH":return Object(K.a)({},e,{search:t.payload||null});default:return e}},api:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(v.has)(t.payload,"request")?Object(v.has)(t.payload,"status")?{isLoading:!1}:{isLoading:!0}:Object(v.has)(t,"error")?{isLoading:!1}:e}}),Y=T.a.create({baseURL:"/api",responseType:"json"});var Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(A.a)(),n=Object(H.d)(X,t,Object(H.a)(L()(Y),a));return a.run(Q),n}({});Z.subscribe(function(){console.log(Z.getState())}),o.a.render(r.a.createElement(c.a,{store:Z},r.a.createElement(_,{store:Z})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[50,2,1]]]);
//# sourceMappingURL=main.c8ae6328.chunk.js.map